(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3138],{18411:function(e){!function(t){"use strict";let r="(0?\\d+|0x[a-f0-9]+)",i={fourOctet:RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:RegExp(`^${r}\\.${r}$`,"i"),longValue:RegExp(`^${r}$`,"i")},n=RegExp("^0[0-7]+$","i"),o=RegExp("^0x[a-f0-9]+$","i"),s="%[0-9a-z]{1,}",a="(?:[0-9a-f]+::?)+",l={zoneIndex:RegExp(s,"i"),native:RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${s})?$`,"i"),deprecatedTransitional:RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${s})?)$`,"i"),transitional:RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\.${r}\\.${r}\\.${r}(${s})?$`,"i")};function u(e,t){let r,i;if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let n=0,o=-1,s=(e.match(l.zoneIndex)||[])[0];for(s&&(s=s.substring(1),e=e.replace(/%.+$/,""));(o=e.indexOf(":",o+1))>=0;)n++;if("::"===e.substr(0,2)&&n--,"::"===e.substr(-2,2)&&n--,n>t)return null;for(i=t-n,r=":";i--;)r+="0:";return":"===(e=e.replace("::",r))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){let t=e.split(":"),r=[];for(let e=0;e<t.length;e++)r.push(parseInt(t[e],16));return r}(),zoneId:s}}function c(e,t,r,i){let n;if(e.length!==t.length)throw Error("ipaddr: cannot match CIDR for objects with different lengths");let o=0;for(;i>0;){if((n=r-i)<0&&(n=0),e[o]>>n!=t[o]>>n)return!1;i-=r,o+=1}return!0}function d(e){if(o.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(n.test(e))return parseInt(e,8);throw Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}let h={};h.IPv4=function(){function e(e){let t,r;if(4!==e.length)throw Error("ipaddr: ipv4 octet count should be 4");for(t=0;t<e.length;t++)if(!(0<=(r=e[t])&&r<=255))throw Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv4"!==e.kind())throw Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return c(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e,t,r,i=0,n=!1,o={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};for(e=3;e>=0;e-=1){if(!((t=this.octets[e])in o)||(r=o[t],n&&0!==r))return null;8!==r&&(n=!0),i+=r}return 32-i},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{let t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),n=[],o=0;for(;o<4;)n.push(parseInt(r[o],10)|255^parseInt(i[o],10)),o++;return new this(n)}catch(e){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!!(h.IPv4.isValid(e)&&e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,r,i,n,o;try{for(i=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),n=[],r=0;r<4;)n.push(parseInt(i[r],10)&parseInt(o[r],10)),r++;return new this(n)}catch(e){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.parse=function(e){let t=this.parser(e);if(null===t)throw Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){let e=parseInt(t[2]);if(e>=0&&e<=32){let r=[this.parse(t[1]),e];return Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r}}throw Error("ipaddr: string is not formatted like an IPv4 CIDR range")},h.IPv4.parser=function(e){let t,r;if(t=e.match(i.fourOctet))return function(){let e=t.slice(1,6),r=[];for(let t=0;t<e.length;t++)r.push(d(e[t]));return r}();if(t=e.match(i.longValue)){if((r=d(t[1]))>0xffffffff||r<0)throw Error("ipaddr: address outside defined range");return(function(){let e;let t=[];for(e=0;e<=24;e+=8)t.push(r>>e&255);return t})().reverse()}return(t=e.match(i.twoOctet))?function(){let e=t.slice(1,4),i=[];if((r=d(e[1]))>0xffffff||r<0)throw Error("ipaddr: address outside defined range");return i.push(d(e[0])),i.push(r>>16&255),i.push(r>>8&255),i.push(255&r),i}():(t=e.match(i.threeOctet))?function(){let e=t.slice(1,5),i=[];if((r=d(e[2]))>65535||r<0)throw Error("ipaddr: address outside defined range");return i.push(d(e[0])),i.push(d(e[1])),i.push(r>>8&255),i.push(255&r),i}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw Error("ipaddr: invalid IPv4 prefix length");let t=[0,0,0,0],r=0,i=Math.floor(e/8);for(;r<i;)t[r]=255,r++;return i<4&&(t[i]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let r,i;if(16===e.length)for(r=0,this.parts=[];r<=14;r+=2)this.parts.push(e[r]<<8|e[r+1]);else if(8===e.length)this.parts=e;else throw Error("ipaddr: ipv6 part count should be 8 or 16");for(r=0;r<this.parts.length;r++)if(!(0<=(i=this.parts[r])&&i<=65535))throw Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[new e([8193,4,274,0,0,0,0,0]),48],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv6"!==e.kind())throw Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return c(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e,t,r=0,i=!1,n={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};for(let o=7;o>=0;o-=1){if(!((e=this.parts[o])in n)||(t=n[e],i&&0!==t))return null;16!==t&&(i=!0),r+=t}return 128-r},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;let t=[],r=this.parts;for(let i=0;i<r.length;i++)t.push((e=r[i])>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){let e=(function(){let e=[];for(let t=0;t<this.parts.length;t++)e.push(function(e,t){for(;e.length<4;)e=`0${e}`;return e}(this.parts[t].toString(16),0));return e}).call(this).join(":"),t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let e=this.parts.slice(-2),t=e[0],r=e[1];return new h.IPv4([t>>8,255&t,r>>8,255&r])},e.prototype.toNormalizedString=function(){let e=(function(){let e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}).call(this).join(":"),t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){let e;let t=/((^|:)(0(:|$)){2,})/g,r=this.toNormalizedString(),i=0,n=-1;for(;e=t.exec(r);)e[0].length>n&&(i=e.index,n=e[0].length);return n<0?r:`${r.substring(0,i)}::${r.substring(i+n)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{let t=this.parseCIDR(e),r=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),n=[],o=0;for(;o<16;)n.push(parseInt(r[o],10)|255^parseInt(i[o],10)),o++;return new this(n)}catch(e){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{let t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,r,i,n,o;try{for(i=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),n=[],r=0;r<16;)n.push(parseInt(i[r],10)&parseInt(o[r],10)),r++;return new this(n)}catch(e){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){let t=this.parser(e);if(null===t.parts)throw Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,r,i;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]))>=0&&t<=128)return Object.defineProperty(i=[this.parse(r[1]),t],"toString",{value:function(){return this.join("/")}}),i;throw Error("ipaddr: string is not formatted like an IPv6 CIDR range")},h.IPv6.parser=function(e){let t,r,i,n,o,s;if(i=e.match(l.deprecatedTransitional))return this.parser(`::ffff:${i[1]}`);if(l.native.test(e))return u(e,8);if((i=e.match(l.transitional))&&(s=i[6]||"",(t=u(i[1].slice(0,-1)+s,6)).parts)){for(r=0,o=[parseInt(i[2]),parseInt(i[3]),parseInt(i[4]),parseInt(i[5])];r<o.length;r++)if(!(0<=(n=o[r])&&n<=255))return null;return t.parts.push(o[0]<<8|o[1]),t.parts.push(o[2]<<8|o[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw Error("ipaddr: invalid IPv6 prefix length");let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,i=Math.floor(e/8);for(;r<i;)t[r]=255,r++;return i<16&&(t[i]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){let t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw Error("ipaddr: the address has neither IPv6 nor IPv4 format")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},h.process=function(e){let t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,r){let i,n,o,s;for(n in null==r&&(r="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,n)){for(!(o=t[n])[0]||o[0]instanceof Array||(o=[o]),i=0;i<o.length;i++)if(s=o[i],e.kind()===s[0].kind()&&e.match.apply(e,s))return n}return r},e.exports?e.exports=h:t.ipaddr=h}(this)},56710:(e,t)=>{"use strict";function r(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function n(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("alphabet.encode input should be an array of numbers");return t.map(t=>{if(t<0||t>=e.length)throw Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("alphabet.decode input should be array of strings");return t.map(t=>{if("string"!=typeof t)throw Error(`alphabet.decode: not string element=${t}`);let r=e.indexOf(t);if(-1===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})}}}function o(e=""){if("string"!=typeof e)throw Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if("string"!=typeof t)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw Error(`padding.decode: non-string input=${e}`);let i=r.length;if(i*e%8)throw Error("Invalid padding: string should have whole number of bytes");for(;i>0&&r[i-1]===t;i--)if(!((i-1)*e%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,i)}}}function a(e){if("function"!=typeof e)throw Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,r){if(t<2)throw Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw Error("convertRadix: data should be array");if(!e.length)return[];let i=0,n=[],o=Array.from(e);for(o.forEach(e=>{if(e<0||e>=t)throw Error(`Wrong integer: ${e}`)});;){let e=0,s=!0;for(let n=i;n<o.length;n++){let a=o[n],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!=t*e)throw Error("convertRadix: carry overflow");e=l%r;let u=Math.floor(l/r);if(o[n]=u,!Number.isSafeInteger(u)||u*r+e!==l)throw Error("convertRadix: carry overflow");s&&(u?s=!1:i=n)}if(n.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)n.push(0);return n.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=function(e){if(!Number.isSafeInteger(e))throw Error(`Wrong integer: ${e}`)};let u=(e,t)=>t?u(t,e%t):e,c=(e,t)=>e+(t-u(e,t));function d(e,t,r,i){if(!Array.isArray(e))throw Error("convertRadix2: data should be array");if(t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(c(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${c(t,r)}`);let n=0,o=0,s=2**r-1,a=[];for(let i of e){if(i>=2**t)throw Error(`convertRadix2: invalid data word=${i} from=${t}`);if(n=n<<t|i,o+t>32)throw Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((n>>o-r&s)>>>0);n&=2**o-1}if(n=n<<r-o&s,!i&&o>=t)throw Error("Excess padding");if(!i&&n)throw Error(`Non-zero padding: ${n}`);return i&&o>0&&a.push(n>>>0),a}function h(e){return{encode:t=>{if(!r(t))throw Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of numbers");return Uint8Array.from(l(t,e,256))}}}function p(e,t=!1){if(e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(c(8,e)>32||c(e,8)>32)throw Error("radix2: carry overflow");return{encode:i=>{if(!r(i))throw Error("radix2.encode input should be Uint8Array");return d(Array.from(i),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of numbers");return Uint8Array.from(d(r,e,8,t))}}}function f(e){if("function"!=typeof e)throw Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if("function"!=typeof t)throw Error("checksum fn should be function");return{encode(i){if(!r(i))throw Error("checksum.encode: input should be Uint8Array");let n=t(i).slice(0,e),o=new Uint8Array(i.length+e);return o.set(i),o.set(n,i.length),o},decode(i){if(!r(i))throw Error("checksum.decode: input should be Uint8Array");let n=i.slice(0,-e),o=t(n).slice(0,e),s=i.slice(-e);for(let t=0;t<e;t++)if(o[t]!==s[t])throw Error("Invalid checksum");return n}}}t.utils={alphabet:n,chain:i,checksum:y,convertRadix:l,convertRadix2:d,radix:h,radix2:p,join:o,padding:s},t.base16=i(p(4),n("0123456789ABCDEF"),o("")),t.base32=i(p(5),n("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32nopad=i(p(5),n("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),t.base32hex=i(p(5),n("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32hexnopad=i(p(5),n("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),t.base32crockford=i(p(5),n("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=i(p(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64nopad=i(p(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=i(p(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o("")),t.base64urlnopad=i(p(6),n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));let g=e=>i(h(58),n(e),o(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let i=0;i<e.length;i+=8){let n=e.subarray(i,i+8);r+=t.base58.encode(n).padStart(m[n.length],"1")}return r},decode(e){let r=[];for(let i=0;i<e.length;i+=11){let n=e.slice(i,i+11),o=m.indexOf(n.length),s=t.base58.decode(n);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw Error("base58xmr: wrong padding");r=r.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(r)}},t.createBase58check=e=>i(y(4,t=>e(e(t))),t.base58),t.base58check=t.createBase58check;let v=i(n("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),b=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];function _(e){let t=e>>25,r=(0x1ffffff&e)<<5;for(let e=0;e<b.length;e++)(t>>e&1)==1&&(r^=b[e]);return r}function w(e,t,r=1){let i=e.length,n=1;for(let t=0;t<i;t++){let r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid prefix (${e})`);n=_(n)^r>>5}n=_(n);for(let t=0;t<i;t++)n=_(n)^31&e.charCodeAt(t);for(let e of t)n=_(n)^e;for(let e=0;e<6;e++)n=_(n);return n^=r,v.encode(d([n%0x40000000],30,5,!1))}function x(e){let t="bech32"===e?1:0x2bc830a3,r=p(5),i=r.decode,n=r.encode,o=f(i);function s(e,r,i=90){if("string"!=typeof e)throw Error(`bech32.encode prefix should be string, not ${typeof e}`);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);if(0===e.length)throw TypeError(`Invalid prefix length ${e.length}`);let n=e.length+7+r.length;if(!1!==i&&n>i)throw TypeError(`Length ${n} exceeds limit ${i}`);let o=e.toLowerCase(),a=w(o,r,t);return`${o}1${v.encode(r)}${a}`}function a(e,r=90){if("string"!=typeof e)throw Error(`bech32.decode input should be string, not ${typeof e}`);if(e.length<8||!1!==r&&e.length>r)throw TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);let i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw Error("String must be lowercase or uppercase");let n=i.lastIndexOf("1");if(0===n||-1===n)throw Error('Letter "1" must be present between prefix and data only');let o=i.slice(0,n),s=i.slice(n+1);if(s.length<6)throw Error("Data must be at least 6 characters long");let l=v.decode(s).slice(0,-6),u=w(o,l,t);if(!s.endsWith(u))throw Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:o,words:l}}let l=f(a);return{encode:s,decode:a,encodeFromBytes:function(e,t){return s(e,n(t))},decodeToBytes:function(e){let{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:i(r)}},decodeUnsafe:l,fromWords:i,fromWordsUnsafe:o,toWords:n}}t.bech32=x("bech32"),t.bech32m=x("bech32m"),t.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},t.hex=i(p(4),n("0123456789abcdef"),o(""),a(e=>{if("string"!=typeof e||e.length%2)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));let k={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},A="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!k.hasOwnProperty(e))throw TypeError(A);if(!r(t))throw TypeError("bytesToString() expects Uint8Array");return k[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!k.hasOwnProperty(e))throw TypeError(A);if("string"!=typeof t)throw TypeError("stringToBytes() expects string");return k[e].decode(t)},t.bytes=t.stringToBytes},36338:(e,t,r)=>{var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(h)}),this.text=function(){var e,t,r,i=c(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=d(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=a(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,n=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];v.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,n){return new Promise(function(o,s){var l=new g(e,n);if(l.signal&&l.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}}),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout(function(){o(new v(i,r))},0)},c.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},c.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof u?l.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(n.headers).forEach(function(e){c.setRequestHeader(e,a(n.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",d)}),c.send(void 0===l._bodyInit?null:l._bodyInit)})}_.polyfill=!0,r.fetch||(r.fetch=_,r.Headers=u,r.Request=g,r.Response=v),t.Headers=u,t.Request=g,t.Response=v,t.fetch=_}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=i.fetch?i:n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},25477:(e,t,r)=>{"use strict";var i=r(1048).Buffer;class n{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=n.toUint8Array(e),i=n.toUint8Array(t);if(r.length!==i.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let o="string",s=/^[0-9a-f]+$/i,a=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,l=/^[a-zA-Z0-9-_]+$/;class u{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=n.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class c{static toString(e,t=!1){let r=n.toArrayBuffer(e),i=new DataView(r),o="";for(let e=0;e<r.byteLength;e+=2)o+=String.fromCharCode(i.getUint16(e,t));return o}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class d{static isHex(e){return typeof e===o&&s.test(e)}static isBase64(e){return typeof e===o&&a.test(e)}static isBase64Url(e){return typeof e===o&&l.test(e)}static ToString(e,t="utf8"){let r=n.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return c.toString(r,!0);case"utf16":case"utf16be":return c.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return c.fromString(e,!0);case"utf16":case"utf16be":return c.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=n.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):i.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!d.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(i.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!d.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=d.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return u.fromString(e);case"utf16":case"utf16be":return c.fromString(e);case"utf16le":case"usc2":return c.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=d.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return u.toString(e);case"utf16":case"utf16be":return c.toString(e);case"utf16le":case"usc2":return c.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let t=n.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=n.toUint8Array(e),r="",i=t.length;for(let e=0;e<i;e++){let i=t[e];i<16&&(r+="0"),r+=i.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!d.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return c.toString(e,t)}static FromUtf16String(e,t=!1){return c.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}d.DEFAULT_UTF8_ENCODING="utf8",t._H=n,t.U$=d,t.n4=function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}},97442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;let i=r(94705);t.ZodIssueCode=i.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class n extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof n))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=n,n.create=e=>new n(e)},30548:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;let n=i(r(28412));t.defaultErrorMap=n.default;let o=n.default;t.setErrorMap=function(e){o=e},t.getErrorMap=function(){return o}},86340:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(30548),t),n(r(66258),t),n(r(29201),t),n(r(94705),t),n(r(75226),t),n(r(97442),t)},15759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(t.errorUtil||(t.errorUtil={}))},66258:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;let n=r(30548),o=i(r(28412));t.makeIssue=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,o=[...r,...n.path||[]],s={...n,path:o};if(void 0!==n.message)return{...n,path:o,message:n.message};let a="";for(let e of i.filter(e=>!!e).slice().reverse())a=e(s,{data:t,defaultError:a}).message;return{...n,path:o,message:a}},t.EMPTY_PATH=[],t.addIssueToContext=function(e,r){let i=(0,n.getErrorMap)(),s=(0,t.makeIssue)({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===o.default?void 0:o.default].filter(e=>!!e)});e.common.issues.push(s)};class s{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,r){let i=[];for(let n of r){if("aborted"===n.status)return t.INVALID;"dirty"===n.status&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return s.mergeObjectSync(e,r)}static mergeObjectSync(e,r){let i={};for(let n of r){let{key:r,value:o}=n;if("aborted"===r.status||"aborted"===o.status)return t.INVALID;"dirty"===r.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"!==r.value&&(void 0!==o.value||n.alwaysSet)&&(i[r.value]=o.value)}return{status:e.value,value:i}}}t.ParseStatus=s,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},29201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94705:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),i={};for(let e of r)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(r=t.util||(t.util={})),(t.objectUtil||(t.objectUtil={})).mergeShapes=(e,t)=>({...e,...t}),t.ZodParsedType=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":if(Array.isArray(e))return t.ZodParsedType.array;if(null===e)return t.ZodParsedType.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t.ZodParsedType.promise;if("undefined"!=typeof Map&&e instanceof Map)return t.ZodParsedType.map;if("undefined"!=typeof Set&&e instanceof Set)return t.ZodParsedType.set;if("undefined"!=typeof Date&&e instanceof Date)return t.ZodParsedType.date;return t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},75995:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;let a=o(r(86340));t.z=a,s(r(86340),t),t.default=a},28412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(94705),n=r(97442);t.default=(e,t)=>{let r;switch(e.code){case n.ZodIssueCode.invalid_type:r=e.received===i.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.util.jsonStringifyReplacer)}`;break;case n.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.util.joinValues(e.keys,", ")}`;break;case n.ZodIssueCode.invalid_union:r="Invalid input";break;case n.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.util.joinValues(e.options)}`;break;case n.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${i.util.joinValues(e.options)}, received '${e.received}'`;break;case n.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case n.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case n.ZodIssueCode.invalid_date:r="Invalid date";break;case n.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.ZodIssueCode.custom:r="Invalid input";break;case n.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case n.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case n.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.util.assertNever(e)}return{message:r}}},75226:function(e,t,r){"use strict";let i;var n,o,s,a,l=this&&this.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},u=this&&this.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.datetimeRegex=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=t.date=void 0;let c=r(30548),d=r(15759),h=r(66258),p=r(94705),f=r(97442);class y{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let g=(e,t)=>{if((0,h.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new f.ZodError(e.common.issues);return this._error=t,this._error}}};function m(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{var o,s;let{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:n.defaultError}:void 0===n.data?{message:null!==(o=null!=a?a:i)&&void 0!==o?o:n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:null!==(s=null!=a?a:r)&&void 0!==s?s:n.defaultError}},description:n}}class v{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return(0,p.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,p.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,p.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,h.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let i={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,p.getParsedType)(e)},n=this._parseSync({data:e,path:i.path,parent:i});return g(i,n)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,p.getParsedType)(e)},i=this._parse({data:e,path:r.path,parent:r});return g(r,await ((0,h.isAsync)(i)?i:Promise.resolve(i)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,i)=>{let n=e(t),o=()=>i.addIssue({code:f.ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(o(),!1)):!!n||(o(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new el({schema:this,typeName:a.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return eu.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return z.create(this,this._def)}promise(){return ea.create(this,this._def)}or(e){return K.create([this,e],this._def)}and(e){return J.create(this,e,this._def)}transform(e){return new el({...m(this._def),schema:this,typeName:a.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ed({...m(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:a.ZodDefault})}brand(){return new ef({typeName:a.ZodBranded,type:this,...m(this._def)})}catch(e){return new eh({...m(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:a.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ey.create(this,e)}readonly(){return eg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=v,t.Schema=v,t.ZodSchema=v;let b=/^c[^\s-]{8,}$/i,_=/^[0-9a-z]+$/,w=/^[0-9A-HJKMNP-TV-Z]{26}$/,x=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k=/^[a-z0-9_-]{21}$/i,A=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,I=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T=RegExp(`^${C}$`);function O(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function N(e){let t=`${C}T${O(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}t.datetimeRegex=N;class P extends v{_parse(e){var t,r;let n;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.string,received:t.parsedType}),h.INVALID}let o=new h.ParseStatus;for(let s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if("length"===s.kind){let t=e.data.length>s.value,r=e.data.length<s.value;(t||r)&&(n=this._getOrReturnCtx(e,n),t?(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):r&&(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if("email"===s.kind)B.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"email",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("emoji"===s.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"emoji",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("uuid"===s.kind)x.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"uuid",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("nanoid"===s.kind)k.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"nanoid",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("cuid"===s.kind)b.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"cuid",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("cuid2"===s.kind)_.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"cuid2",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("ulid"===s.kind)w.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"ulid",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(t){n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"url",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty()}else"regex"===s.kind?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"regex",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty())):"trim"===s.kind?e.data=e.data.trim():"includes"===s.kind?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):"toLowerCase"===s.kind?e.data=e.data.toLowerCase():"toUpperCase"===s.kind?e.data=e.data.toUpperCase():"startsWith"===s.kind?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):"endsWith"===s.kind?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):"datetime"===s.kind?N(s).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:"datetime",message:s.message}),o.dirty()):"date"===s.kind?T.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:"date",message:s.message}),o.dirty()):"time"===s.kind?RegExp(`^${O(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{code:f.ZodIssueCode.invalid_string,validation:"time",message:s.message}),o.dirty()):"duration"===s.kind?A.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"duration",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty()):"ip"===s.kind?(t=e.data,("v4"===(r=s.version)||!r)&&I.test(t)||("v6"===r||!r)&&S.test(t)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"ip",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty())):"base64"===s.kind?E.test(e.data)||(n=this._getOrReturnCtx(e,n),(0,h.addIssueToContext)(n,{validation:"base64",code:f.ZodIssueCode.invalid_string,message:s.message}),o.dirty()):p.util.assertNever(s);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:f.ZodIssueCode.invalid_string,...d.errorUtil.errToObj(r)})}_addCheck(e){return new P({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errorUtil.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...d.errorUtil.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...d.errorUtil.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...d.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...d.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,d.errorUtil.errToObj(e))}trim(){return new P({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new P({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodString=P,P.create=e=>{var t;return new P({checks:[],typeName:a.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...m(e)})};class U extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.number,received:t.parsedType}),h.INVALID}let r=new h.ParseStatus;for(let i of this._def.checks)"int"===i.kind?p.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.not_finite,message:i.message}),r.dirty()):p.util.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.errorUtil.toString(t))}setLimit(e,t,r,i){return new U({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.errorUtil.toString(i)}]})}_addCheck(e){return new U({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&p.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=U,U.create=e=>new U({checks:[],typeName:a.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...m(e)});class Z extends v{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==p.ZodParsedType.bigint){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.bigint,received:t.parsedType}),h.INVALID}let r=new h.ParseStatus;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):p.util.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.errorUtil.toString(t))}setLimit(e,t,r,i){return new Z({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:d.errorUtil.toString(i)}]})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=Z,Z.create=e=>{var t;return new Z({checks:[],typeName:a.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...m(e)})};class R extends v{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==p.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.boolean,received:t.parsedType}),h.INVALID}return(0,h.OK)(e.data)}}t.ZodBoolean=R,R.create=e=>new R({typeName:a.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...m(e)});class j extends v{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.date,received:t.parsedType}),h.INVALID}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_date}),h.INVALID}let r=new h.ParseStatus;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(t=this._getOrReturnCtx(e,t),(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):p.util.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new j({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=j,j.create=e=>new j({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:a.ZodDate,...m(e)});class L extends v{_parse(e){if(this._getType(e)!==p.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.symbol,received:t.parsedType}),h.INVALID}return(0,h.OK)(e.data)}}t.ZodSymbol=L,L.create=e=>new L({typeName:a.ZodSymbol,...m(e)});class V extends v{_parse(e){if(this._getType(e)!==p.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.undefined,received:t.parsedType}),h.INVALID}return(0,h.OK)(e.data)}}t.ZodUndefined=V,V.create=e=>new V({typeName:a.ZodUndefined,...m(e)});class D extends v{_parse(e){if(this._getType(e)!==p.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.null,received:t.parsedType}),h.INVALID}return(0,h.OK)(e.data)}}t.ZodNull=D,D.create=e=>new D({typeName:a.ZodNull,...m(e)});class H extends v{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,h.OK)(e.data)}}t.ZodAny=H,H.create=e=>new H({typeName:a.ZodAny,...m(e)});class $ extends v{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,h.OK)(e.data)}}t.ZodUnknown=$,$.create=e=>new $({typeName:a.ZodUnknown,...m(e)});class M extends v{_parse(e){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.never,received:t.parsedType}),h.INVALID}}t.ZodNever=M,M.create=e=>new M({typeName:a.ZodNever,...m(e)});class F extends v{_parse(e){if(this._getType(e)!==p.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.void,received:t.parsedType}),h.INVALID}return(0,h.OK)(e.data)}}t.ZodVoid=F,F.create=e=>new F({typeName:a.ZodVoid,...m(e)});class z extends v{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==p.ZodParsedType.array)return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.array,received:t.parsedType}),h.INVALID;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&((0,h.addIssueToContext)(t,{code:e?f.ZodIssueCode.too_big:f.ZodIssueCode.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&((0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&((0,h.addIssueToContext)(t,{code:f.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new y(t,e,t.path,r)))).then(e=>h.ParseStatus.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new y(t,e,t.path,r)));return h.ParseStatus.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new z({...this._def,minLength:{value:e,message:d.errorUtil.toString(t)}})}max(e,t){return new z({...this._def,maxLength:{value:e,message:d.errorUtil.toString(t)}})}length(e,t){return new z({...this._def,exactLength:{value:e,message:d.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}t.ZodArray=z,z.create=(e,t)=>new z({type:e,minLength:null,maxLength:null,exactLength:null,typeName:a.ZodArray,...m(t)});class q extends v{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=p.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==p.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:t.parsedType}),h.INVALID}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof M&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||o.push(e);let s=[];for(let e of n){let t=i[e],n=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new y(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof M){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&((0,h.addIssueToContext)(r,{code:f.ZodIssueCode.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new y(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>h.ParseStatus.mergeObjectSync(t,e)):h.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return d.errorUtil.errToObj,new q({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var i,n,o,s;let a=null!==(o=null===(n=(i=this._def).errorMap)||void 0===n?void 0:n.call(i,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=d.errorUtil.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new q({...this._def,unknownKeys:"strip"})}passthrough(){return new q({...this._def,unknownKeys:"passthrough"})}extend(e){return new q({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new q({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:a.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new q({...this._def,catchall:e})}pick(e){let t={};return p.util.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new q({...this._def,shape:()=>t})}omit(e){let t={};return p.util.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new q({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof q){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=eu.create(e(n))}return new q({...t._def,shape:()=>r})}return t instanceof z?new z({...t._def,type:e(t.element)}):t instanceof eu?eu.create(e(t.unwrap())):t instanceof ec?ec.create(e(t.unwrap())):t instanceof Y?Y.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return p.util.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new q({...this._def,shape:()=>t})}required(e){let t={};return p.util.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eu;)e=e._def.innerType;t[r]=e}}),new q({...this._def,shape:()=>t})}keyof(){return en(p.util.objectKeys(this.shape))}}t.ZodObject=q,q.create=(e,t)=>new q({shape:()=>e,unknownKeys:"strip",catchall:M.create(),typeName:a.ZodObject,...m(t)}),q.strictCreate=(e,t)=>new q({shape:()=>e,unknownKeys:"strict",catchall:M.create(),typeName:a.ZodObject,...m(t)}),q.lazycreate=(e,t)=>new q({shape:e,unknownKeys:"strip",catchall:M.create(),typeName:a.ZodObject,...m(t)});class K extends v{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new f.ZodError(e.ctx.common.issues));return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_union,unionErrors:r}),h.INVALID});{let e;let i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new f.ZodError(e));return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_union,unionErrors:n}),h.INVALID}}get options(){return this._def.options}}t.ZodUnion=K,K.create=(e,t)=>new K({options:e,typeName:a.ZodUnion,...m(t)});let G=e=>{if(e instanceof er)return G(e.schema);if(e instanceof el)return G(e.innerType());if(e instanceof ei)return[e.value];if(e instanceof eo)return e.options;if(e instanceof es)return p.util.objectValues(e.enum);if(e instanceof ed)return G(e._def.innerType);if(e instanceof V)return[void 0];else if(e instanceof D)return[null];else if(e instanceof eu)return[void 0,...G(e.unwrap())];else if(e instanceof ec)return[null,...G(e.unwrap())];else if(e instanceof ef)return G(e.unwrap());else if(e instanceof eg)return G(e.unwrap());else if(e instanceof eh)return G(e._def.innerType);else return[]};class W extends v{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.object)return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:t.parsedType}),h.INVALID;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):((0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),h.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=G(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new W({typeName:a.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...m(r)})}}t.ZodDiscriminatedUnion=W;class J extends v{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if((0,h.isAborted)(e)||(0,h.isAborted)(i))return h.INVALID;let n=function e(t,r){let i=(0,p.getParsedType)(t),n=(0,p.getParsedType)(r);if(t===r)return{valid:!0,data:t};if(i===p.ZodParsedType.object&&n===p.ZodParsedType.object){let i=p.util.objectKeys(r),n=p.util.objectKeys(t).filter(e=>-1!==i.indexOf(e)),o={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};o[i]=n.data}return{valid:!0,data:o}}if(i===p.ZodParsedType.array&&n===p.ZodParsedType.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let o=e(t[n],r[n]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}return i===p.ZodParsedType.date&&n===p.ZodParsedType.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,i.value);return n.valid?(((0,h.isDirty)(e)||(0,h.isDirty)(i))&&t.dirty(),{status:t.value,value:n.data}):((0,h.addIssueToContext)(r,{code:f.ZodIssueCode.invalid_intersection_types}),h.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}t.ZodIntersection=J,J.create=(e,t,r)=>new J({left:e,right:t,typeName:a.ZodIntersection,...m(r)});class Y extends v{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.ZodParsedType.array)return(0,h.addIssueToContext)(r,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.array,received:r.parsedType}),h.INVALID;if(r.data.length<this._def.items.length)return(0,h.addIssueToContext)(r,{code:f.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,h.addIssueToContext)(r,{code:f.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new y(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>h.ParseStatus.mergeArray(t,e)):h.ParseStatus.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Y({...this._def,rest:e})}}t.ZodTuple=Y,Y.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:e,typeName:a.ZodTuple,rest:null,...m(t)})};class X extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.ZodParsedType.object)return(0,h.addIssueToContext)(r,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:r.parsedType}),h.INVALID;let i=[],n=this._def.keyType,o=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new y(r,e,r.path,e)),value:o._parse(new y(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?h.ParseStatus.mergeObjectAsync(t,i):h.ParseStatus.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new X(t instanceof v?{keyType:e,valueType:t,typeName:a.ZodRecord,...m(r)}:{keyType:P.create(),valueType:e,typeName:a.ZodRecord,...m(t)})}}t.ZodRecord=X;class Q extends v{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.ZodParsedType.map)return(0,h.addIssueToContext)(r,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.map,received:r.parsedType}),h.INVALID;let i=this._def.keyType,n=this._def.valueType,o=[...r.data.entries()].map(([e,t],o)=>({key:i._parse(new y(r,e,r.path,[o,"key"])),value:n._parse(new y(r,t,r.path,[o,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return h.INVALID;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return h.INVALID;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}t.ZodMap=Q,Q.create=(e,t,r)=>new Q({valueType:t,keyType:e,typeName:a.ZodMap,...m(r)});class ee extends v{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.ZodParsedType.set)return(0,h.addIssueToContext)(r,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.set,received:r.parsedType}),h.INVALID;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&((0,h.addIssueToContext)(r,{code:f.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&((0,h.addIssueToContext)(r,{code:f.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function o(e){let r=new Set;for(let i of e){if("aborted"===i.status)return h.INVALID;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>n._parse(new y(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>o(e)):o(s)}min(e,t){return new ee({...this._def,minSize:{value:e,message:d.errorUtil.toString(t)}})}max(e,t){return new ee({...this._def,maxSize:{value:e,message:d.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=ee,ee.create=(e,t)=>new ee({valueType:e,minSize:null,maxSize:null,typeName:a.ZodSet,...m(t)});class et extends v{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.function)return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.function,received:t.parsedType}),h.INVALID;function r(e,r){return(0,h.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,c.getErrorMap)(),c.defaultErrorMap].filter(e=>!!e),issueData:{code:f.ZodIssueCode.invalid_arguments,argumentsError:r}})}function i(e,r){return(0,h.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,c.getErrorMap)(),c.defaultErrorMap].filter(e=>!!e),issueData:{code:f.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ea){let e=this;return(0,h.OK)(async function(...t){let s=new f.ZodError([]),a=await e._def.args.parseAsync(t,n).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(o,this,a);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw s.addIssue(i(l,e)),s})})}{let e=this;return(0,h.OK)(function(...t){let s=e._def.args.safeParse(t,n);if(!s.success)throw new f.ZodError([r(t,s.error)]);let a=Reflect.apply(o,this,s.data),l=e._def.returns.safeParse(a,n);if(!l.success)throw new f.ZodError([i(a,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new et({...this._def,args:Y.create(e).rest($.create())})}returns(e){return new et({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new et({args:e||Y.create([]).rest($.create()),returns:t||$.create(),typeName:a.ZodFunction,...m(r)})}}t.ZodFunction=et;class er extends v{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=er,er.create=(e,t)=>new er({getter:e,typeName:a.ZodLazy,...m(t)});class ei extends v{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{received:t.data,code:f.ZodIssueCode.invalid_literal,expected:this._def.value}),h.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function en(e,t){return new eo({values:e,typeName:a.ZodEnum,...m(t)})}t.ZodLiteral=ei,ei.create=(e,t)=>new ei({value:e,typeName:a.ZodLiteral,...m(t)});class eo extends v{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,h.addIssueToContext)(t,{expected:p.util.joinValues(r),received:t.parsedType,code:f.ZodIssueCode.invalid_type}),h.INVALID}if(l(this,o,"f")||u(this,o,new Set(this._def.values),"f"),!l(this,o,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,h.addIssueToContext)(t,{received:t.data,code:f.ZodIssueCode.invalid_enum_value,options:r}),h.INVALID}return(0,h.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eo.create(e,{...this._def,...t})}exclude(e,t=this._def){return eo.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t.ZodEnum=eo,o=new WeakMap,eo.create=en;class es extends v{constructor(){super(...arguments),s.set(this,void 0)}_parse(e){let t=p.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==p.ZodParsedType.string&&r.parsedType!==p.ZodParsedType.number){let e=p.util.objectValues(t);return(0,h.addIssueToContext)(r,{expected:p.util.joinValues(e),received:r.parsedType,code:f.ZodIssueCode.invalid_type}),h.INVALID}if(l(this,s,"f")||u(this,s,new Set(p.util.getValidEnumValues(this._def.values)),"f"),!l(this,s,"f").has(e.data)){let e=p.util.objectValues(t);return(0,h.addIssueToContext)(r,{received:r.data,code:f.ZodIssueCode.invalid_enum_value,options:e}),h.INVALID}return(0,h.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=es,s=new WeakMap,es.create=(e,t)=>new es({values:e,typeName:a.ZodNativeEnum,...m(t)});class ea extends v{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.promise&&!1===t.common.async)return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.promise,received:t.parsedType}),h.INVALID;let r=t.parsedType===p.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,h.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t.ZodPromise=ea,ea.create=(e,t)=>new ea({type:e,typeName:a.ZodPromise,...m(t)});class el extends v{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===a.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{(0,h.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return h.INVALID;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?h.INVALID:"dirty"===i.status||"dirty"===t.value?(0,h.DIRTY)(i.value):i});{if("aborted"===t.value)return h.INVALID;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?h.INVALID:"dirty"===i.status||"dirty"===t.value?(0,h.DIRTY)(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?h.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?h.INVALID:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,h.isValid)(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,h.isValid)(e))return e;let o=i.transform(e.value,n);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}}p.util.assertNever(i)}}t.ZodEffects=el,t.ZodTransformer=el,el.create=(e,t,r)=>new el({schema:e,typeName:a.ZodEffects,effect:t,...m(r)}),el.createWithPreprocess=(e,t,r)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:a.ZodEffects,...m(r)});class eu extends v{_parse(e){return this._getType(e)===p.ZodParsedType.undefined?(0,h.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=eu,eu.create=(e,t)=>new eu({innerType:e,typeName:a.ZodOptional,...m(t)});class ec extends v{_parse(e){return this._getType(e)===p.ZodParsedType.null?(0,h.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ec,ec.create=(e,t)=>new ec({innerType:e,typeName:a.ZodNullable,...m(t)});class ed extends v{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===p.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=ed,ed.create=(e,t)=>new ed({innerType:e,typeName:a.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...m(t)});class eh extends v{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,h.isAsync)(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new f.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new f.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=eh,eh.create=(e,t)=>new eh({innerType:e,typeName:a.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...m(t)});class ep extends v{_parse(e){if(this._getType(e)!==p.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,h.addIssueToContext)(t,{code:f.ZodIssueCode.invalid_type,expected:p.ZodParsedType.nan,received:t.parsedType}),h.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=ep,ep.create=e=>new ep({typeName:a.ZodNaN,...m(e)}),t.BRAND=Symbol("zod_brand");class ef extends v{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=ef;class ey extends v{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?h.INVALID:"dirty"===e.status?(t.dirty(),(0,h.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?h.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ey({in:e,out:t,typeName:a.ZodPipeline})}}t.ZodPipeline=ey;class eg extends v{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,h.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,h.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function em(e,t={},r){return e?H.create().superRefine((i,n)=>{var o,s;if(!e(i)){let e="function"==typeof t?t(i):"string"==typeof t?{message:t}:t,a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s,l="string"==typeof e?{message:e}:e;n.addIssue({code:"custom",...l,fatal:a})}}):H.create()}t.ZodReadonly=eg,eg.create=(e,t)=>new eg({innerType:e,typeName:a.ZodReadonly,...m(t)}),t.custom=em,t.late={object:q.lazycreate},(n=a=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={})).ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly",t.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>em(t=>t instanceof e,t);let ev=P.create;t.string=ev;let eb=U.create;t.number=eb;let e_=ep.create;t.nan=e_;let ew=Z.create;t.bigint=ew;let ex=R.create;t.boolean=ex;let ek=j.create;t.date=ek;let eA=L.create;t.symbol=eA;let eB=V.create;t.undefined=eB;let eI=D.create;t.null=eI;let eS=H.create;t.any=eS;let eE=$.create;t.unknown=eE;let eC=M.create;t.never=eC;let eT=F.create;t.void=eT;let eO=z.create;t.array=eO;let eN=q.create;t.object=eN;let eP=q.strictCreate;t.strictObject=eP;let eU=K.create;t.union=eU;let eZ=W.create;t.discriminatedUnion=eZ;let eR=J.create;t.intersection=eR;let ej=Y.create;t.tuple=ej;let eL=X.create;t.record=eL;let eV=Q.create;t.map=eV;let eD=ee.create;t.set=eD;let eH=et.create;t.function=eH;let e$=er.create;t.lazy=e$;let eM=ei.create;t.literal=eM;let eF=eo.create;t.enum=eF;let ez=es.create;t.nativeEnum=ez;let eq=ea.create;t.promise=eq;let eK=el.create;t.effect=eK,t.transformer=eK;let eG=eu.create;t.optional=eG;let eW=ec.create;t.nullable=eW;let eJ=el.createWithPreprocess;t.preprocess=eJ;let eY=ey.create;t.pipeline=eY,t.ostring=()=>ev().optional(),t.onumber=()=>eb().optional(),t.oboolean=()=>ex().optional(),t.coerce={string:e=>P.create({...e,coerce:!0}),number:e=>U.create({...e,coerce:!0}),boolean:e=>R.create({...e,coerce:!0}),bigint:e=>Z.create({...e,coerce:!0}),date:e=>j.create({...e,coerce:!0})},t.NEVER=h.INVALID},64942:(e,t,r)=>{"use strict";r.d(t,{ev:()=>x});var i=r(64443),n=r(68279),o=r(50615),s=r(58030),a=r(38293);let l=BigInt(0),u=BigInt(1),c=BigInt(2),d=BigInt(8),h={zip215:!0},p=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),f=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=BigInt(0),g=BigInt(1),m=BigInt(2);BigInt(3);let v=BigInt(5),b=BigInt(8);function _(e,t){let r=(0,s.zi)(t*t*t,p),i=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),o=e*e%p*e%p,a=(0,s.zH)(o,m,p)*o%p,l=(0,s.zH)(a,g,p)*e%p,u=(0,s.zH)(l,v,p)*l%p,c=(0,s.zH)(u,t,p)*u%p,d=(0,s.zH)(c,r,p)*c%p,h=(0,s.zH)(d,i,p)*d%p,f=(0,s.zH)(h,n,p)*h%p,y=(0,s.zH)(f,n,p)*h%p,b=(0,s.zH)(y,t,p)*u%p;return{pow_p_5_8:(0,s.zH)(b,m,p)*e%p,b2:o}}(e*(0,s.zi)(r*r*t,p)).pow_p_5_8,n=(0,s.zi)(e*r*i,p),o=(0,s.zi)(t*n*n,p),a=n,l=(0,s.zi)(n*f,p),u=o===e,c=o===(0,s.zi)(-e,p),d=o===(0,s.zi)(-e*f,p);return u&&(n=a),(c||d)&&(n=l),(0,s.dQ)(n,p)&&(n=(0,s.zi)(-n,p)),{isValid:u||c,value:n}}let w=(0,s.D0)(p,void 0,!0),x=function(e){let t=function(e){let t=(0,o.hp)(e);return a.Q5(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:i,prehash:n,hash:p,randomBytes:f,nByteLength:y,h:g}=t,m=c<<BigInt(8*y)-u,v=r.create,b=(0,s.D0)(t.n,t.nBitLength),_=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:l}}}),w=t.adjustScalarBytes||(e=>e),x=t.domain||((e,t,r)=>{if((0,a.e8)("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function k(e,t){a.aK("coordinate "+e,t,l,m)}function A(e){if(!(e instanceof S))throw Error("ExtendedPoint expected")}let B=(0,a.x)((e,t)=>{let{ex:i,ey:n,ez:o}=e,s=e.is0();null==t&&(t=s?d:r.inv(o));let a=v(i*t),c=v(n*t),h=v(o*t);if(s)return{x:l,y:u};if(h!==u)throw Error("invZ was invalid");return{x:a,y:c}}),I=(0,a.x)(e=>{let{a:r,d:i}=t;if(e.is0())throw Error("bad point: ZERO");let{ex:n,ey:o,ez:s,et:a}=e,l=v(n*n),u=v(o*o),c=v(s*s),d=v(c*c),h=v(l*r);if(v(c*v(h+u))!==v(d+v(i*v(l*u))))throw Error("bad point: equation left != right (1)");if(v(n*o)!==v(s*a))throw Error("bad point: equation left != right (2)");return!0});class S{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,k("x",e),k("y",t),k("z",r),k("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof S)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return k("x",t),k("y",r),new S(t,r,u,v(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(S.fromAffine)}static msm(e,t){return(0,o.Xf)(S,b,e,t)}_setWindowSize(e){T.setWindowSize(this,e)}assertValidity(){I(this)}equals(e){A(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:o,ez:s}=e,a=v(t*s),l=v(n*i),u=v(r*s),c=v(o*i);return a===l&&u===c}is0(){return this.equals(S.ZERO)}negate(){return new S(v(-this.ex),this.ey,this.ez,v(-this.et))}double(){let{a:e}=t,{ex:r,ey:i,ez:n}=this,o=v(r*r),s=v(i*i),a=v(c*v(n*n)),l=v(e*o),u=r+i,d=v(v(u*u)-o-s),h=l+s,p=h-a,f=l-s,y=v(d*p),g=v(h*f),m=v(d*f);return new S(y,g,v(p*h),m)}add(e){A(e);let{a:r,d:i}=t,{ex:n,ey:o,ez:s,et:a}=this,{ex:u,ey:d,ez:h,et:p}=e;if(r===BigInt(-1)){let e=v((o-n)*(d+u)),t=v((o+n)*(d-u)),r=v(t-e);if(r===l)return this.double();let i=v(s*c*p),f=v(a*c*h),y=f+i,g=t+e,m=f-i,b=v(y*r),_=v(g*m),w=v(y*m);return new S(b,_,v(r*g),w)}let f=v(n*u),y=v(o*d),g=v(a*i*p),m=v(s*h),b=v((n+o)*(u+d)-f-y),_=m-g,w=m+g,x=v(y-r*f),k=v(b*_),B=v(w*x),I=v(b*x);return new S(k,B,v(_*w),I)}subtract(e){return this.add(e.negate())}wNAF(e){return T.wNAFCached(this,e,S.normalizeZ)}multiply(e){a.aK("scalar",e,u,i);let{p:t,f:r}=this.wNAF(e);return S.normalizeZ([t,r])[0]}multiplyUnsafe(e){return(a.aK("scalar",e,l,i),e===l)?C:this.equals(C)||e===u?this:this.equals(E)?this.wNAF(e).p:T.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(g).is0()}isTorsionFree(){return T.unsafeLadder(this,i).is0()}toAffine(e){return B(this,e)}clearCofactor(){let{h:e}=t;return e===u?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){let{d:n,a:o}=t,s=r.BYTES;e=(0,a.qj)("pointHex",e,s),(0,a.e8)("zip215",i);let c=e.slice(),d=e[s-1];c[s-1]=-129&d;let h=a.lX(c),p=i?m:r.ORDER;a.aK("pointHex.y",h,l,p);let f=v(h*h),{isValid:y,value:g}=_(v(f-u),v(n*f-o));if(!y)throw Error("Point.fromHex: invalid y coordinate");let b=(g&u)===u,w=(128&d)!=0;if(!i&&g===l&&w)throw Error("Point.fromHex: x=0 and x_0=1");return w!==b&&(g=v(-g)),S.fromAffine({x:g,y:h})}static fromPrivateKey(e){return N(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),i=a.z(t,r.BYTES);return i[i.length-1]|=e&u?128:0,i}toHex(){return a.My(this.toRawBytes())}}S.BASE=new S(t.Gx,t.Gy,u,v(t.Gx*t.Gy)),S.ZERO=new S(l,u,u,l);let{BASE:E,ZERO:C}=S,T=(0,o.hT)(S,8*y);function O(e){var t;return t=a.lX(e),(0,s.zi)(t,i)}function N(e){e=(0,a.qj)("private key",e,y);let t=(0,a.qj)("hashed private key",p(e),2*y),r=w(t.slice(0,y)),i=t.slice(y,2*y),n=O(r),o=E.multiply(n),s=o.toRawBytes();return{head:r,prefix:i,scalar:n,point:o,pointBytes:s}}function P(e=new Uint8Array,...t){return O(p(x(a.Id(...t),(0,a.qj)("context",e),!!n)))}return E._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return N(e).pointBytes},sign:function(e,t,o={}){var u;e=(0,a.qj)("message",e),n&&(e=n(e));let{prefix:c,scalar:d,pointBytes:h}=N(t),p=P(o.context,c,e),f=E.multiply(p).toRawBytes(),g=(u=p+P(o.context,f,h,e)*d,(0,s.zi)(u,i));a.aK("signature.s",g,l,i);let m=a.Id(f,a.z(g,r.BYTES));return(0,a.qj)("result",m,2*y)},verify:function(e,t,i,o=h){let s,l,u;let{context:c,zip215:d}=o,p=r.BYTES;e=(0,a.qj)("signature",e,2*p),t=(0,a.qj)("message",t),void 0!==d&&(0,a.e8)("zip215",d),n&&(t=n(t));let f=a.lX(e.slice(p,2*p));try{s=S.fromHex(i,d),l=S.fromHex(e.slice(0,p),d),u=E.multiplyUnsafe(f)}catch(e){return!1}if(!d&&s.isSmallOrder())return!1;let y=P(c,l.toRawBytes(),s.toRawBytes(),t);return l.add(s.multiplyUnsafe(y)).subtract(u).clearCofactor().equals(S.ZERO)},ExtendedPoint:S,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>f(r.BYTES),precompute:(e=8,t=S.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:w,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:b,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:i.Zf,randomBytes:n.po,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:_});function k(e){if(!(e instanceof S))throw Error("RistrettoPoint expected")}let A=e=>_(g,e),B=e=>x.CURVE.Fp.create(null&bytesToNumberLE(e));function I(e){let{d:t}=x.CURVE,r=x.CURVE.Fp.ORDER,i=x.CURVE.Fp.create,n=i(null*e*e),o=i((n+g)*null),s=BigInt(-1),a=i((s-t*n)*i(n+t)),{isValid:l,value:u}=_(o,a),c=i(u*e);isNegativeLE(c,r)||(c=i(-c)),l||(u=c),l||(s=n);let d=i(s*(n-g)*null-a),h=u*u,p=i((u+u)*a),f=i(null*d),y=i(g-h),m=i(g+h);return new x.ExtendedPoint(i(p*m),i(y*f),i(f*m),i(p*y))}class S{constructor(e){this.ep=e}static fromAffine(e){return new S(x.ExtendedPoint.fromAffine(e))}static hashToCurve(e){let t=I(B((e=ensureBytes("ristrettoHash",e,64)).slice(0,32))),r=I(B(e.slice(32,64)));return new S(t.add(r))}static fromHex(e){e=ensureBytes("ristrettoHex",e,32);let{a:t,d:r}=x.CURVE,i=x.CURVE.Fp.ORDER,n=x.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=B(e);if(!equalBytes(numberToBytesLE(s,32),e)||isNegativeLE(s,i))throw Error(o);let a=n(s*s),l=n(g+t*a),u=n(g-t*a),c=n(l*l),d=n(u*u),h=n(t*r*c-d),{isValid:p,value:f}=A(n(h*d)),m=n(f*u),v=n(f*m*h),b=n((s+s)*m);isNegativeLE(b,i)&&(b=n(-b));let _=n(l*v),w=n(b*_);if(!p||isNegativeLE(w,i)||_===y)throw Error(o);return new S(new x.ExtendedPoint(b,_,g,w))}toRawBytes(){let e,{ex:t,ey:r,ez:i,et:n}=this.ep,o=x.CURVE.Fp.ORDER,s=x.CURVE.Fp.create,a=s(s(i+r)*s(i-r)),l=s(t*r),u=s(l*l),{value:c}=A(s(a*u)),d=s(c*a),h=s(c*l),p=s(d*h*n);if(isNegativeLE(n*p,o)){let i=s(null*r),n=s(null*t);t=i,r=n,e=s(null*d)}else e=h;isNegativeLE(t*p,o)&&(r=s(-r));let f=s((i-r)*e);return isNegativeLE(f,o)&&(f=s(-f)),numberToBytesLE(f,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(e){k(e);let{ex:t,ey:r}=this.ep,{ex:i,ey:n}=e.ep,o=x.CURVE.Fp.create,s=o(t*n)===o(r*i),a=o(r*n)===o(t*i);return s||a}add(e){return k(e),new S(this.ep.add(e.ep))}subtract(e){return k(e),new S(this.ep.subtract(e.ep))}multiply(e){return new S(this.ep.multiply(e))}multiplyUnsafe(e){return new S(this.ep.multiplyUnsafe(e))}double(){return new S(this.ep.double())}negate(){return new S(this.ep.negate())}}},34217:(e,t,r)=>{"use strict";let i,n;r.d(t,{Rn:()=>N,jn:()=>U});let o=2n**255n-19n,s=2n**252n+0x14def9dea2f79cd65812631a5cf5d3edn,a={a:-1n,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,p:o,n:s,h:8,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},l=(e="")=>{throw Error(e)},u=e=>"string"==typeof e,c=(e,t)=>e instanceof Uint8Array&&("number"!=typeof t||!(t>0)||e.length===t)?e:l("Uint8Array expected"),d=e=>new Uint8Array(e),h=(e,t)=>c(u(e)?_(e):d(e),t),p=(e,t=o)=>{let r=e%t;return r>=0n?r:t+r},f=e=>e instanceof y?e:l("Point expected");class y{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i}static fromAffine(e){return new y(e.x,e.y,1n,p(e.x*e.y))}static fromHex(e,t=!0){let{d:r}=a,i=(e=h(e,32)).slice();i[31]=-129&e[31];let n=x(i);0n!==n&&(t&&!(0n<n&&n<o)&&l("bad y coord 1"),t||0n<n&&n<2n**256n||l("bad y coord 2"));let s=p(n*n),{isValid:u,value:c}=S(p(s-1n),p(r*s+1n));u||l("bad y coordinate 3");let d=(1n&c)===1n;return(128&e[31])!=0!==d&&(c=p(-c)),new y(c,n,1n,p(c*n))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:t,ey:r,ez:i}=this,{ex:n,ey:o,ez:s}=f(e),a=p(t*s),l=p(n*i),u=p(r*s),c=p(o*i);return a===l&&u===c}is0(){return this.equals(m)}negate(){return new y(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){let{ex:e,ey:t,ez:r}=this,{a:i}=a,n=p(e*e),o=p(t*t),s=p(2n*p(r*r)),l=p(i*n),u=e+t,c=p(p(u*u)-n-o),d=l+o,h=d-s,f=l-o,g=p(c*h),m=p(d*f),v=p(c*f);return new y(g,m,p(h*d),v)}add(e){let{ex:t,ey:r,ez:i,et:n}=this,{ex:o,ey:s,ez:l,et:u}=f(e),{a:c,d}=a,h=p(t*o),g=p(r*s),m=p(n*d*u),v=p(i*l),b=p((t+r)*(o+s)-h-g),_=p(v-m),w=p(v+m),x=p(g-c*h),k=p(b*_),A=p(w*x),B=p(b*x);return new y(k,A,p(_*w),B)}mul(e,t=!0){if(0n===e)return!0===t?l("cannot multiply by 0"):m;if("bigint"==typeof e&&0n<e&&e<s||l("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(g))return R(e).p;let r=m,i=g;for(let n=this;e>0n;n=n.double(),e>>=1n)1n&e?r=r.add(n):t&&(i=i.add(n));return r}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(a.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(s/2n,!1).double();return s%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:t,ez:r}=this;if(this.is0())return{x:0n,y:0n};let i=A(r);return 1n!==p(r*i)&&l("invalid inverse"),{x:p(e*i),y:p(t*i)}}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=w(t);return r[31]|=1n&e?128:0,r}toHex(){return b(this.toRawBytes())}}y.BASE=new y(0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,0x6666666666666666666666666666666666666666666666666666666666666658n,1n,p(0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an*0x6666666666666666666666666666666666666666666666666666666666666658n)),y.ZERO=new y(0n,1n,1n,0n);let{BASE:g,ZERO:m}=y,v=(e,t)=>e.toString(16).padStart(t,"0"),b=e=>Array.from(e).map(e=>v(e,2)).join(""),_=e=>{let t=e.length;(!u(e)||t%2)&&l("hex invalid 1");let r=d(t/2);for(let t=0;t<r.length;t++){let i=2*t,n=Number.parseInt(e.slice(i,i+2),16);(Number.isNaN(n)||n<0)&&l("hex invalid 2"),r[t]=n}return r},w=e=>_(v(e,64)).reverse(),x=e=>BigInt("0x"+b(d(c(e)).reverse())),k=(...e)=>{let t=d(e.reduce((e,t)=>e+c(t).length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t},A=(e,t=o)=>{(0n===e||t<=0n)&&l("no inverse n="+e+" mod="+t);let r=p(e,t),i=t,n=0n,s=1n,a=1n,u=0n;for(;0n!==r;){let e=i/r,t=i%r,o=n-a*e,l=s-u*e;i=r,r=t,n=a,s=u,a=o,u=l}return 1n===i?p(n,t):l("no inverse")},B=(e,t)=>{let r=e;for(;t-- >0n;)r*=r,r%=o;return r},I=e=>{let t=e*e%o*e%o,r=B(t,2n)*t%o,i=B(r,1n)*e%o,n=B(i,5n)*i%o,s=B(n,10n)*n%o,a=B(s,20n)*s%o,l=B(a,40n)*a%o,u=B(l,80n)*l%o,c=B(u,80n)*l%o,d=B(c,10n)*n%o;return{pow_p_5_8:B(d,2n)*e%o,b2:t}},S=(e,t)=>{let r=p(t*t*t),i=I(e*p(r*r*t)).pow_p_5_8,n=p(e*r*i),o=p(t*n*n),s=n,a=p(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*n),l=o===e,u=o===p(-e),c=o===p(-(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*e));return l&&(n=s),(u||c)&&(n=a),(1n&p(n))===1n&&(n=p(-n)),{isValid:l||u,value:n}},E=e=>p(x(e),s),C=(...e)=>U.sha512Async(...e),T=e=>{let t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;let r=e.slice(32,64),i=E(t),n=g.mul(i),o=n.toRawBytes();return{head:t,prefix:r,scalar:i,point:n,pointBytes:o}},O=e=>C(h(e,32)).then(T),N=e=>O(e).then(e=>e.pointBytes),P=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,U={bytesToHex:b,hexToBytes:_,concatBytes:k,mod:p,invert:A,randomBytes:e=>{let t=P();return t||l("crypto.getRandomValues must be defined"),t.getRandomValues(d(e))},sha512Async:async(...e)=>{let t=P();t||l("crypto.subtle or etc.sha512Async must be defined");let r=k(...e);return d(await t.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(U,{sha512Sync:{configurable:!1,get:()=>i,set(e){i||(i=e)}}});let Z=()=>{let e=[],t=g,r=t;for(let i=0;i<33;i++){r=t,e.push(r);for(let i=1;i<128;i++)r=r.add(t),e.push(r);t=r.double()}return e},R=e=>{let t=n||(n=Z()),r=(e,t)=>{let r=t.negate();return e?r:t},i=m,o=g,s=BigInt(255),a=BigInt(8);for(let n=0;n<33;n++){let l=128*n,u=Number(e&s);e>>=a,u>128&&(u-=256,e+=1n);let c=l+Math.abs(u)-1,d=n%2!=0,h=u<0;0===u?o=o.add(r(d,t[l])):i=i.add(r(h,t[c]))}return{p:i,f:o}}},19684:(e,t,r)=>{"use strict";r.d(t,{_d:()=>L});var i,n,o,s,a,l,u,c,d,h,p,f,y,g,m,v,b,_,w,x,k,A,B,I,S,E,C,T,O,N,P,U,Z,R,j={};r.r(j),r.d(j,{Any:()=>tl,BaseBlock:()=>ev,BaseStringBlock:()=>eb,BitString:()=>eU,BmpString:()=>eQ,Boolean:()=>eT,CharacterString:()=>te,Choice:()=>tu,Constructed:()=>eB,DATE:()=>ti,DateTime:()=>to,Duration:()=>ts,EndOfContent:()=>eS,Enumerated:()=>eL,GeneralString:()=>e7,GeneralizedTime:()=>tr,GraphicString:()=>e3,HexBlock:()=>eh,IA5String:()=>e5,Integer:()=>ej,Null:()=>eE,NumericString:()=>e2,ObjectIdentifier:()=>eH,OctetString:()=>eN,Primitive:()=>ew,PrintableString:()=>e6,RawData:()=>td,RelativeObjectIdentifier:()=>eF,Repeated:()=>tc,Sequence:()=>ez,Set:()=>eq,TIME:()=>ta,TeletexString:()=>e8,TimeOfDay:()=>tn,UTCTime:()=>tt,UniversalString:()=>e1,Utf8String:()=>eY,ValueBlock:()=>ef,VideotexString:()=>e4,ViewWriter:()=>er,VisibleString:()=>e9,compareSchema:()=>th,fromBER:()=>ek,verifySchema:()=>tp});var L={};r.r(L),r.d(L,{fromBuffer:()=>iI,fromString:()=>iE,isBase64:()=>iT,isBase64url:()=>iO,toBase64:()=>iS,toBuffer:()=>iB,toString:()=>iC});new TextDecoder,new TextEncoder;let V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",H=e=>{let t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),r=V.length;for(let i=0;i<r;i++)t[e.charCodeAt(i)]=i;return t},$=H(V),M=H(D),F=/^[-A-Za-z0-9\-_]*$/,z=/^[-A-Za-z0-9+/]*={0,3}$/,q={};q.toArrayBuffer=(e,t)=>{let r=e.length,i=.75*e.length,n,o=0,s,a,l,u;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);let c=new ArrayBuffer(i),d=new Uint8Array(c),h=t?M:$;for(n=0;n<r;n+=4)s=h[e.charCodeAt(n)],a=h[e.charCodeAt(n+1)],l=h[e.charCodeAt(n+2)],u=h[e.charCodeAt(n+3)],d[o++]=s<<2|a>>4,d[o++]=(15&a)<<4|l>>2,d[o++]=(3&l)<<6|63&u;return c},q.fromArrayBuffer=(e,t)=>{let r=new Uint8Array(e),i,n="",o=r.length,s=t?D:V;for(i=0;i<o;i+=3)n+=s[r[i]>>2],n+=s[(3&r[i])<<4|r[i+1]>>4],n+=s[(15&r[i+1])<<2|r[i+2]>>6],n+=s[63&r[i+2]];let a=o%3;return 2===a?n=n.substring(0,n.length-1)+(t?"":"="):1===a&&(n=n.substring(0,n.length-2)+(t?"":"==")),n},q.toString=(e,t)=>new TextDecoder().decode(q.toArrayBuffer(e,t)),q.fromString=(e,t)=>q.fromArrayBuffer(new TextEncoder().encode(e),t),q.validate=(e,t)=>{if(!("string"==typeof e||e instanceof String))return!1;try{return t?F.test(e):z.test(e)}catch(e){return!1}},q.base64=q,r(36338);var K=r(25477);function G(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function W(e,t,r=-1){let i=e,n=0,o=Math.pow(2,t);for(let s=1;s<8;s++){if(e<o){let e;if(r<0)e=new ArrayBuffer(s),n=s;else{if(r<s)return new ArrayBuffer(0);e=new ArrayBuffer(r),n=r}let o=new Uint8Array(e);for(let e=s-1;e>=0;e--){let r=Math.pow(2,e*t);o[n-e-1]=Math.floor(i/r),i-=o[n-e-1]*r}return e}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function J(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new Uint8Array(new ArrayBuffer(t));for(let t of e)i.set(t,r),r+=t.length;return i}function Y(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=G(t,8),i=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)i[t]=e[t];return i[0]&=127,G(i,8)-r}function X(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}function Q(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ee(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function et(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class er{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return ee(this.items)}}let ei=[new Uint8Array([1])],en="0123456789",eo="name",es="valueHexView",ea=new ArrayBuffer(0),el=new Uint8Array(0),eu="EndOfContent",ec="OCTET STRING",ed="BIT STRING";function eh(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?K._H.toUint8Array(r.valueHex):el}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!et(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ea)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:K.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class ep{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:i=el}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=K._H.toUint8Array(i)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:K.U$.ToHex(this.valueBeforeDecodeView)}}}ep.NAME="baseBlock";class ef extends ep{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}ef.NAME="valueBlock";class ey extends eh(ep){constructor({idBlock:e={}}={}){var t,r,i,n;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?K._H.toUint8Array(e.valueHex):el,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(i=e.tagNumber)&&void 0!==i?i:-1,this.isConstructed=null!==(n=e.isConstructed)&&void 0!==n&&n):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",ea}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=W(this.tagNumber,7),i=new Uint8Array(r),n=r.byteLength,o=new Uint8Array(n+1);if(o[0]=31|t,!e){for(let e=0;e<n-1;e++)o[e+1]=128|i[e];o[n]=i[n-1]}return o.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let i=K._H.toUint8Array(e);if(!et(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;switch(192&n[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&n[0])==32,this.isHexOnly=!1;let o=31&n[0];if(31!==o)this.tagNumber=o,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&n[e];){if(t[e-1]=127&n[e],++e>=n.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&n[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=G(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}ey.NAME="identificationBlock";class eg extends ep{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(i=e.length)&&void 0!==i?i:0}fromBER(e,t,r){let i=K._H.toUint8Array(e);if(!et(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;if(255===n[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===n[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&n[0]),!1===this.longFormUsed)return this.length=n[0],this.blockLength=1,t+this.blockLength;let o=127&n[0];if(o>8)return this.error="Too big integer",-1;if(o+1>n.length)return this.error="End of input reached before message was fully decoded",-1;let s=t+1,a=i.subarray(s,s+o);return 0===a[o-1]&&this.warnings.push("Needlessly long encoded length"),this.length=G(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=o+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=W(this.length,8);if(i.byteLength>127)return this.error="Too big length",ea;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let n=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}eg.NAME="lengthBlock";let em={};class ev extends ep{constructor({name:e="",optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new ey(i),this.lenBlock=new eg(i),this.valueBlock=n?new n(i):new ef(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new er;t||function e(t){if(t instanceof em.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?ea:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():K.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${K.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){return this===e||e instanceof this.constructor&&function(e,t){if(e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}(this.toBER(),e.toBER())}}ev.NAME="BaseBlock";class eb extends ev{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}eb.NAME="BaseStringBlock";class e_ extends eh(ef){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}e_.NAME="PrimitiveValueBlock";class ew extends ev{constructor(e={}){super(e,e_),this.idBlock.isConstructed=!1}}function ex(e,t=0,r=e.length){let i=t,n=new ev({},ef),o=new ep;if(!et(o,e,t,r))return n.error=o.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let s=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===s)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=s,r-=n.idBlock.blockLength,s=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===s)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=s,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let a=ev;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};a=em.EndOfContent;break;case 1:a=em.Boolean;break;case 2:a=em.Integer;break;case 3:a=em.BitString;break;case 4:a=em.OctetString;break;case 5:a=em.Null;break;case 6:a=em.ObjectIdentifier;break;case 10:a=em.Enumerated;break;case 12:a=em.Utf8String;break;case 13:a=em.RelativeObjectIdentifier;break;case 14:a=em.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:a=em.Sequence;break;case 17:a=em.Set;break;case 18:a=em.NumericString;break;case 19:a=em.PrintableString;break;case 20:a=em.TeletexString;break;case 21:a=em.VideotexString;break;case 22:a=em.IA5String;break;case 23:a=em.UTCTime;break;case 24:a=em.GeneralizedTime;break;case 25:a=em.GraphicString;break;case 26:a=em.VisibleString;break;case 27:a=em.GeneralString;break;case 28:a=em.UniversalString;break;case 29:a=em.CharacterString;break;case 30:a=em.BmpString;break;case 31:a=em.DATE;break;case 32:a=em.TimeOfDay;break;case 33:a=em.DateTime;break;case 34:a=em.Duration;break;default:{let e=n.idBlock.isConstructed?new em.Constructed:new em.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else a=n.idBlock.isConstructed?em.Constructed:em.Primitive;return s=(n=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(n,a)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:s,result:n}}function ek(e){if(!e.byteLength){let e=new ev({},ef);return e.error="Input buffer has zero length",{offset:-1,result:e}}return ex(K._H.toUint8Array(e).slice(),0,e.byteLength)}em.Primitive=ew,ew.NAME="PRIMITIVE";class eA extends ef{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){var i,n;let o=K._H.toUint8Array(e);if(!et(this,o,t,r))return -1;if(this.valueBeforeDecodeView=o.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let s=t;for(;i=this.isIndefiniteForm,n=r,(i?1:n)>0;){let e=ex(o,s,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(s=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===eu)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===eu?this.value.pop():this.warnings.push("No EndOfContent block encoded")),s}toBER(e,t){let r=t||new er;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?ea:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}eA.NAME="ConstructedValueBlock";class eB extends ev{constructor(e={}){super(e,eA),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}em.Constructed=eB,eB.NAME="CONSTRUCTED";class eI extends ef{fromBER(e,t,r){return t}toBER(e){return ea}}eI.override="EndOfContentValueBlock";class eS extends ev{constructor(e={}){super(e,eI),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}em.EndOfContent=eS,eS.NAME=eu;class eE extends ev{constructor(e={}){super(e,ef),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}em.Null=eE,eE.NAME="NULL";class eC extends eh(ef){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=K._H.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){let i=K._H.toUint8Array(e);return et(this,i,t,r)?(this.valueHexView=i.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Y.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}eC.NAME="BooleanValueBlock";class eT extends ev{constructor(e={}){super(e,eC),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}em.Boolean=eT,eT.NAME="BOOLEAN";class eO extends eh(eA){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=eA.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===eu){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;break}if(t!==ec)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?eA.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}eO.NAME="OctetStringValueBlock";class eN extends ev{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},eO),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=ex(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?eB.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${K.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof eN&&e.push(t.valueBlock.valueHexView);return K._H.concat(e)}}em.OctetString=eN,eN.NAME=ec;class eP extends eh(eA){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let i=-1;if(this.isConstructed){if(-1===(i=eA.prototype.fromBER.call(this,e,t,r)))return i;for(let e of this.value){let t=e.constructor.NAME;if(t===eu){if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;break}if(t!==ed)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return i}let n=K._H.toUint8Array(e);if(!et(this,n,t,r))return -1;let o=n.subarray(t,t+r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=o.subarray(1);try{if(e.byteLength){let t=ex(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=o.subarray(1),this.blockLength=o.length,t+r}toBER(e,t){if(this.isConstructed)return eA.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ea;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}eP.NAME="BitStringValueBlock";class eU extends ev{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!==(i=r.isConstructed)&&void 0!==i||(r.isConstructed=!!(null===(n=r.value)||void 0===n?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},eP),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return eB.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join("");return`${this.constructor.NAME} : ${t.substring(0,t.length-this.valueBlock.unusedBits)}`}}}function eZ(e){if(e>=ei.length)for(let t=ei.length;t<=e;t++){let e=new Uint8Array([0]),r=ei[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=J(e,r)),ei.push(r)}return ei[e]}em.BitString=eU,eU.NAME=ed;class eR extends eh(ef){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Y.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=W(r-t,8,i),n=new Uint8Array(e);return n[0]|=128,e}let n=W(t,8,i),o=new Uint8Array(n);if(128&o[0]){let e=n.slice(0),t=new Uint8Array(e);o=new Uint8Array(n=new ArrayBuffer(n.byteLength+1));for(let r=0;r<e.byteLength;r++)o[r+1]=t[r];o[0]=0}return n}r*=256}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let o=this.valueHexView;return 0===o[0]&&(128&o[1])!=0?this.valueHexView=o.subarray(1):0!==i&&o.length<i&&(i-o.length>1&&(i=o.length+1),this.valueHexView=o.subarray(i-o.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e;let t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,n=this.valueHexView,o="",s=!1;for(let s=n.byteLength-1;s>=0;s--){e=n[s];for(let n=0;n<8;n++)(1&e)==1&&(i===t?(r=function(e,t){let r,i=0,n=new Uint8Array(e),o=new Uint8Array(t),s=n.slice(0),a=s.length-1,l=o.slice(0),u=l.length-1,c=0;for(let e=u;e>=0;e--,c++)!0==(r=s[a-c]-l[u-c]-i)<0?(i=1,s[a-c]=r+10):(i=0,s[a-c]=r);if(i>0)for(let e=a-u+1;e>=0;e--,c++)if((r=s[a-c]-i)<0)i=1,s[a-c]=r+10;else{i=0,s[a-c]=r;break}return s.slice()}(eZ(i),r),o="-"):r=function(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),n=new Uint8Array(t),o=i.slice(0),s=o.length-1,a=n.slice(0),l=a.length-1,u=0,c=l<s?s:l,d=0;for(let e=c;e>=0;e--,d++)u=!0==d<a.length?o[s-d]+a[l-d]+r[0]:o[s-d]+r[0],(r[0]=u/10,!0==d>=o.length)?o=J(new Uint8Array([u%10]),o):o[s-d]=u%10;return r[0]>0&&(o=J(r,o)),o}(r,eZ(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(s=!0),s&&(o+=en.charAt(r[e]));return!1===s&&(o+=en.charAt(0)),o}}eR.NAME="IntegerValueBlock",Object.defineProperty(eR.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class ej extends ev{constructor(e={}){super(e,eR),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Q(),BigInt(this.valueBlock.toString())}static fromBigInt(e){Q();let t=BigInt(e),r=new er,i=t.toString(16).replace(/^-/,""),n=new Uint8Array(K.U$.FromHex(i));if(t<0){let e=new Uint8Array(n.length+(128&n[0]?1:0));e[0]|=128;let i=BigInt(`0x${K.U$.ToHex(e)}`)+t,o=K._H.toUint8Array(K.U$.FromHex(i.toString(16)));o[0]|=128,r.write(o)}else 128&n[0]&&r.write(new Uint8Array([0])),r.write(n);return new ej({valueHex:r.final()})}convertToDER(){let e=new ej({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ej({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}em.Integer=ej,ej.NAME="INTEGER";class eL extends ej{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}em.Enumerated=eL,eL.NAME="ENUMERATED";class eV extends eh(ef){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let i=K._H.toUint8Array(e);if(!et(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=G(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){Q();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=W(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ea;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=K.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}eV.NAME="sidBlock";class eD extends ef{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new eV;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,ea;t.push(i)}return ee(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new eV;if(i>Number.MAX_SAFE_INTEGER){Q();let t=BigInt(i);e.valueBigInt=t}else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}eD.NAME="ObjectIdentifierValueBlock";class eH extends ev{constructor(e={}){super(e,eD),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}em.ObjectIdentifier=eH,eH.NAME="OBJECT IDENTIFIER";class e$ extends eh(ep){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let i=K._H.toUint8Array(e);if(!et(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let o=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)o[e]=this.valueHexView[e];return(this.valueHexView=o,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=G(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=W(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ea;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){return this.isHexOnly?K.U$.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}e$.NAME="relativeSidBlock";class eM extends ef{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new e$;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,ea;r.push(i)}return ee(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new e$;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}eM.NAME="RelativeObjectIdentifierValueBlock";class eF extends ev{constructor(e={}){super(e,eM),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}em.RelativeObjectIdentifier=eF,eF.NAME="RelativeObjectIdentifier";class ez extends eB{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}em.Sequence=ez,ez.NAME="SEQUENCE";class eq extends eB{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}em.Set=eq,eq.NAME="SET";class eK extends eh(ef){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}eK.NAME="StringValueBlock";class eG extends eK{}eG.NAME="SimpleStringValueBlock";class eW extends eb{constructor({...e}={}){super(e,eG)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,K._H.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}eW.NAME="SIMPLE STRING";class eJ extends eW{fromBuffer(e){this.valueBlock.valueHexView=K._H.toUint8Array(e);try{this.valueBlock.value=K.U$.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=K.U$.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(K.U$.FromUtf8String(e)),this.valueBlock.value=e}}eJ.NAME="Utf8StringValueBlock";class eY extends eJ{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}em.Utf8String=eY,eY.NAME="UTF8String";class eX extends eW{fromBuffer(e){this.valueBlock.value=K.U$.ToUtf16String(e),this.valueBlock.valueHexView=K._H.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(K.U$.FromUtf16String(e))}}eX.NAME="BmpStringValueBlock";class eQ extends eX{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}em.BmpString=eQ,eQ.NAME="BMPString";class e0 extends eW{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=new Uint8Array(W(e.charCodeAt(i),8));if(t.length>4)continue;let n=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*i+e+n]=t[e]}this.valueBlock.value=e}}e0.NAME="UniversalStringValueBlock";class e1 extends e0{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}em.UniversalString=e1,e1.NAME="UniversalString";class e2 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}em.NumericString=e2,e2.NAME="NumericString";class e6 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}em.PrintableString=e6,e6.NAME="PrintableString";class e8 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}em.TeletexString=e8,e8.NAME="TeletexString";class e4 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}em.VideotexString=e4,e4.NAME="VideotexString";class e5 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}em.IA5String=e5,e5.NAME="IA5String";class e3 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}em.GraphicString=e3,e3.NAME="GraphicString";class e9 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}em.VisibleString=e9,e9.NAME="VisibleString";class e7 extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}em.GeneralString=e7,e7.NAME="GeneralString";class te extends eW{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}em.CharacterString=te,te.NAME="CharacterString";class tt extends e9{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,K._H.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=X(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=X(this.month,2),e[2]=X(this.day,2),e[3]=X(this.hour,2),e[4]=X(this.minute,2),e[5]=X(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}em.UTCTime=tt,tt.NAME="UTCTime";class tr extends tt{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",o=0,s=0,a=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(s=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");a=e*n}}}let l=i.indexOf(".");if(-1===l&&(l=i.indexOf(",")),-1!==l){let e=new Number(`0${i.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");o=e.valueOf(),n=i.substring(0,l)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*o;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*o;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*o;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let u=t.exec(n);if(null===u)throw Error("Wrong input string for conversion");for(let e=1;e<u.length;e++)switch(e){case 1:this.year=parseInt(u[e],10);break;case 2:this.month=parseInt(u[e],10);break;case 3:this.day=parseInt(u[e],10);break;case 4:this.hour=parseInt(u[e],10)+s;break;case 5:this.minute=parseInt(u[e],10)+a;break;case 6:this.second=parseInt(u[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(X(this.year,4)),e.push(X(this.month,2)),e.push(X(this.day,2)),e.push(X(this.hour,2)),e.push(X(this.minute,2)),e.push(X(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(X(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}em.GeneralizedTime=tr,tr.NAME="GeneralizedTime";class ti extends eY{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}em.DATE=ti,ti.NAME="DATE";class tn extends eY{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}em.TimeOfDay=tn,tn.NAME="TimeOfDay";class to extends eY{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}em.DateTime=to,to.NAME="DateTime";class ts extends eY{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}em.Duration=ts,ts.NAME="Duration";class ta extends eY{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}em.TIME=ta,ta.NAME="TIME";class tl{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class tu extends tl{constructor({value:e=[],...t}={}){super(t),this.value=e}}class tc extends tl{constructor({value:e=new tl,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class td{constructor({data:e=el}={}){this.dataView=K._H.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=K._H.toUint8Array(e)}fromBER(e,t,r){let i=t+r;return this.dataView=K._H.toUint8Array(e).subarray(t,i),i}toBER(e){return this.dataView.slice().buffer}}function th(e,t,r){if(r instanceof tu){for(let i=0;i<r.value.length;i++)if(th(e,t,r.value[i]).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(eo)&&(e.name=r.name),e}}if(r instanceof tl)return r.hasOwnProperty(eo)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(es in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof em.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof tc&&(o=t.valueBlock.value.length),0===o)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let s=0;s<o;s++)if(s-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[s].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof tc){if(!1===(n=th(e,t.valueBlock.value[s],r.valueBlock.value[0].value)).verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(eo in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[s])}}else if(!1===(n=th(e,t.valueBlock.value[s-i],r.valueBlock.value[s])).verified){if(!r.valueBlock.value[s].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;i++}if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&es in t.valueBlock){let i=ex(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return th(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function tp(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=ex(K._H.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:th(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(i||(i={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(n||(n={}));class tf{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e){if("number"==typeof e)this.fromNumber(e);else if(K._H.isBufferSource(e))this.unusedBits=t,this.value=K._H.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}}fromASN(e){if(!(e instanceof eU))throw TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new eU({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new eU({name:e})}toNumber(){let e="";for(let t of new Uint8Array(this.value))e+=t.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2),r=t.length+7>>3;this.unusedBits=(r<<3)-t.length;let i=new Uint8Array(r);t=t.padStart(r<<3,"0").split("").reverse().join("");let n=0;for(;n<r;)i[n]=parseInt(t.slice(n<<3,(n<<3)+8),2),n++;this.value=i.buffer}}class ty{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){"number"==typeof e?this.buffer=new ArrayBuffer(e):K._H.isBufferSource(e)?this.buffer=K._H.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof eN))throw TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new eN({valueHex:this.buffer})}toSchema(e){return new eN({name:e})}}let tg={fromASN:e=>e instanceof eE?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new eE;let t=ek(e);if(t.result.error)throw Error(t.result.error);return t.result}},tm={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new ej({value:+e})},tv={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new eL({value:e})},tb={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new ej({valueHex:e})},t_={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new eU({valueHex:e})},tw={fromASN:e=>e.valueBlock.toString(),toASN:e=>new eH({value:e})},tx={fromASN:e=>e.valueBlock.value,toASN:e=>new eT({value:e})},tk={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new eN({valueHex:e})};function tA(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let tB=tA(eY),tI=tA(eQ),tS=tA(e1),tE=tA(e2),tC=tA(e6),tT=tA(e8),tO=tA(e4),tN=tA(e5),tP=tA(e3),tU=tA(e9),tZ=tA(e7),tR=tA(te),tj={fromASN:e=>e.toDate(),toASN:e=>new tt({valueDate:e})},tL={fromASN:e=>e.toDate(),toASN:e=>new tr({valueDate:e})},tV={fromASN:()=>null,toASN:()=>new eE};function tD(e){switch(e){case n.Any:return tg;case n.BitString:return t_;case n.BmpString:return tI;case n.Boolean:return tx;case n.CharacterString:return tR;case n.Enumerated:return tv;case n.GeneralString:return tZ;case n.GeneralizedTime:return tL;case n.GraphicString:return tP;case n.IA5String:return tN;case n.Integer:return tm;case n.Null:return tV;case n.NumericString:return tE;case n.ObjectIdentifier:return tw;case n.OctetString:return tk;case n.PrintableString:return tC;case n.TeletexString:return tT;case n.UTCTime:return tj;case n.UniversalString:return tS;case n.Utf8String:return tB;case n.VideotexString:return tO;case n.VisibleString:return tU;default:return null}}function tH(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||tH(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}class t${constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:i.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),o=[];for(let e in r.items){let s;let a=r.items[e],l=t?e:"";if("number"==typeof a.type){let e=n[a.type],t=j[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);s=new t({name:l})}else tH(a.type)?s=new a.type().toSchema(l):a.optional?this.get(a.type).type===i.Choice?s=new tl({name:l}):(s=this.create(a.type,!1)).name=l:s=new tl({name:l});let u=!!a.optional||void 0!==a.defaultValue;if(a.repeated&&(s.name="",s=new("set"===a.repeated?eq:ez)({name:"",value:[new tc({name:l,value:s})]})),null!==a.context&&void 0!==a.context){if(a.implicit){if("number"==typeof a.type||tH(a.type)){let e=a.repeated?eB:ew;o.push(new e({name:l,optional:u,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);let e=!!a.repeated,t=e?s:this.get(a.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,o.push(new eB({name:e?"":l,optional:u,idBlock:{tagClass:3,tagNumber:a.context},value:t}))}}else o.push(new eB({optional:u,idBlock:{tagClass:3,tagNumber:a.context},value:[s]}))}else s.optional=u,o.push(s)}switch(r.type){case i.Sequence:return new ez({value:o,name:""});case i.Set:return new eq({value:o,name:""});case i.Choice:return new tu({value:o,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let tM=new t$,tF=e=>t=>{let r;tM.has(t)?r=tM.get(t):(r=tM.createDefault(t),tM.set(t,r)),Object.assign(r,e)},tz=e=>(t,r)=>{let i;tM.has(t.constructor)?i=tM.get(t.constructor):(i=tM.createDefault(t.constructor),tM.set(t.constructor,i));let n=Object.assign({},e);if("number"==typeof n.type&&!n.converter){let i=tD(e.type);if(!i)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);n.converter=i}i.items[r]=n};class tq extends Error{constructor(){super(...arguments),this.schemas=[]}}class tK{static parse(e,t){let r=ek(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(tH(t))return new t().fromASN(e);let o=tM.get(t);tM.cache(t);let s=o.schema;if(e.constructor===eB&&o.type!==i.Choice)for(let t in s=new eB({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:o.schema.valueBlock.value}),o.items)delete e[t];let a=th({},e,s);if(!a.verified)throw new tq(`Data does not match to ${t.name} ASN1 schema. ${a.result.error}`);let l=new t;if(function e(t){var r;if(t){let i=Object.getPrototypeOf(t);return(null===(r=null==i?void 0:i.prototype)||void 0===r?void 0:r.constructor)===Array||e(i)}return!1}(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=o.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let i=tD(r);if(!i)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>i.fromASN(e))}}for(let e in o.items){let t=a.result[e];if(!t)continue;let i=o.items[e],s=i.type;if("number"==typeof s||tH(s)){let o=null!==(r=i.converter)&&void 0!==r?r:tH(s)?new s:null;if(!o)throw Error("Converter is empty");if(i.repeated){if(i.implicit){let r=new("sequence"===i.repeated?ez:eq);r.valueBlock=t.valueBlock;let n=ek(r.toBER(!1));if(-1===n.offset)throw Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock&&Array.isArray(n.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let s=n.result.valueBlock.value;l[e]=Array.from(s,e=>o.fromASN(e))}else l[e]=Array.from(t,e=>o.fromASN(e))}else{let r=t;if(i.implicit){let e;if(tH(s))e=new s().toSchema("");else{let t=n[s],r=j[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=ek(e.toBER(!1)).result}l[e]=o.fromASN(r)}}else if(i.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");l[e]=Array.from(t,e=>this.fromASN(e,s))}else l[e]=this.fromASN(t,s)}return l}catch(e){throw e instanceof tq&&e.schemas.push(t.name),e}}}class tG{static serialize(e){return e instanceof ev?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&tH(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=tM.get(r);tM.cache(r);let o=[];if(n.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof n.itemType){let t=tD(n.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);o=e.map(e=>t.toASN(e))}else o=e.map(e=>this.toAsnItem({type:n.itemType},"[]",r,e))}else for(let t in n.items){let i=n.items[t],s=e[t];if(void 0===s||i.defaultValue===s||"object"==typeof i.defaultValue&&"object"==typeof s&&function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}(this.serialize(i.defaultValue),this.serialize(s)))continue;let a=tG.toAsnItem(i,t,r,s);if("number"==typeof i.context){if(i.implicit){if(!i.repeated&&("number"==typeof i.type||tH(i.type))){let e={};e.valueHex=a instanceof eE?a.valueBeforeDecodeView:a.valueBlock.toBER(),o.push(new ew({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},...e}))}else o.push(new eB({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},value:a.valueBlock.value}))}else o.push(new eB({optional:i.optional,idBlock:{tagClass:3,tagNumber:i.context},value:[a]}))}else i.repeated?o=o.concat(a):o.push(a)}switch(n.type){case i.Sequence:t=new ez({value:o});break;case i.Set:t=new eq({value:o});break;case i.Choice:if(!o[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=o[0]}return t}static toAsnItem(e,t,r,i){let o;if("number"==typeof e.type){let s=e.converter;if(!s)throw Error(`Property '${t}' doesn't have converter for type ${n[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>s.toASN(e));o=new("sequence"===e.repeated?ez:eq)({value:t})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>this.toASN(e));o=new("sequence"===e.repeated?ez:eq)({value:t})}else o=this.toASN(i);return o}}class tW extends Array{constructor(e=[]){if("number"==typeof e)super(e);else for(let t of(super(),e))this.push(t)}}class tJ{static serialize(e){return tG.serialize(e)}static parse(e,t){return tK.parse(e,t)}static toString(e){let t=ek(K._H.isBufferSource(e)?K._H.toArrayBuffer(e):tJ.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}var tY=r(85608),tX=r(18411);class tQ{static decodeIP(e){if(64===e.length&&0===parseInt(e,16))return"::/0";if(16!==e.length)return e;let t=parseInt(e.slice(8),16).toString(2).split("").reduce((e,t)=>e+ +t,0),r=e.slice(0,8).replace(/(.{2})/g,e=>`${parseInt(e,16)}.`);return r=r.slice(0,-1),`${r}/${t}`}static toString(e){if(4===e.byteLength||16===e.byteLength){let t=new Uint8Array(e);return tX.fromByteArray(Array.from(t)).toString()}return this.decodeIP(K.U$.ToHex(e))}static fromString(e){return new Uint8Array(tX.parse(e).toByteArray()).buffer}}let t0=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};(0,tY.__decorate)([tz({type:n.TeletexString})],t0.prototype,"teletexString",void 0),(0,tY.__decorate)([tz({type:n.PrintableString})],t0.prototype,"printableString",void 0),(0,tY.__decorate)([tz({type:n.UniversalString})],t0.prototype,"universalString",void 0),(0,tY.__decorate)([tz({type:n.Utf8String})],t0.prototype,"utf8String",void 0),(0,tY.__decorate)([tz({type:n.BmpString})],t0.prototype,"bmpString",void 0),t0=(0,tY.__decorate)([tF({type:i.Choice})],t0);let t1=class extends t0{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?K.U$.ToHex(this.anyValue):super.toString())}};(0,tY.__decorate)([tz({type:n.IA5String})],t1.prototype,"ia5String",void 0),(0,tY.__decorate)([tz({type:n.Any})],t1.prototype,"anyValue",void 0),t1=(0,tY.__decorate)([tF({type:i.Choice})],t1);class t2{constructor(e={}){this.type="",this.value=new t1,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],t2.prototype,"type",void 0),(0,tY.__decorate)([tz({type:t1})],t2.prototype,"value",void 0);let t6=o=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}};t6=o=(0,tY.__decorate)([tF({type:i.Set,itemType:t2})],t6);let t8=s=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype)}};t8=s=(0,tY.__decorate)([tF({type:i.Sequence,itemType:t6})],t8);let t4=a=class extends t8{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}};t4=a=(0,tY.__decorate)([tF({type:i.Sequence})],t4);class t5{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],t5.prototype,"typeId",void 0),(0,tY.__decorate)([tz({type:n.Any,context:0})],t5.prototype,"value",void 0);class t3{constructor(e={}){this.partyName=new t0,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:t0,optional:!0,context:0,implicit:!0})],t3.prototype,"nameAssigner",void 0),(0,tY.__decorate)([tz({type:t0,context:1,implicit:!0})],t3.prototype,"partyName",void 0);let t9=class{constructor(e={}){Object.assign(this,e)}};(0,tY.__decorate)([tz({type:t5,context:0,implicit:!0})],t9.prototype,"otherName",void 0),(0,tY.__decorate)([tz({type:n.IA5String,context:1,implicit:!0})],t9.prototype,"rfc822Name",void 0),(0,tY.__decorate)([tz({type:n.IA5String,context:2,implicit:!0})],t9.prototype,"dNSName",void 0),(0,tY.__decorate)([tz({type:n.Any,context:3,implicit:!0})],t9.prototype,"x400Address",void 0),(0,tY.__decorate)([tz({type:t4,context:4,implicit:!1})],t9.prototype,"directoryName",void 0),(0,tY.__decorate)([tz({type:t3,context:5})],t9.prototype,"ediPartyName",void 0),(0,tY.__decorate)([tz({type:n.IA5String,context:6,implicit:!0})],t9.prototype,"uniformResourceIdentifier",void 0),(0,tY.__decorate)([tz({type:n.OctetString,context:7,implicit:!0,converter:{fromASN:e=>tQ.toString(tk.fromASN(e)),toASN:e=>tk.toASN(tQ.fromString(e))}})],t9.prototype,"iPAddress",void 0),(0,tY.__decorate)([tz({type:n.ObjectIdentifier,context:8,implicit:!0})],t9.prototype,"registeredID",void 0),t9=(0,tY.__decorate)([tF({type:i.Choice})],t9);class t7{constructor(e={}){this.accessMethod="",this.accessLocation=new t9,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],t7.prototype,"accessMethod",void 0),(0,tY.__decorate)([tz({type:t9})],t7.prototype,"accessLocation",void 0);let re=l=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}};re=l=(0,tY.__decorate)([tF({type:i.Sequence,itemType:t7})],re);class rt extends ty{}class rr{constructor(e={}){e&&Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rt,context:0,optional:!0,implicit:!0})],rr.prototype,"keyIdentifier",void 0),(0,tY.__decorate)([tz({type:t9,context:1,optional:!0,implicit:!0,repeated:"sequence"})],rr.prototype,"authorityCertIssuer",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:2,optional:!0,implicit:!0,converter:tb})],rr.prototype,"authorityCertSerialNumber",void 0);class ri{constructor(e={}){this.cA=!1,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Boolean,defaultValue:!1})],ri.prototype,"cA",void 0),(0,tY.__decorate)([tz({type:n.Integer,optional:!0})],ri.prototype,"pathLenConstraint",void 0);let rn=u=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,u.prototype)}};rn=u=(0,tY.__decorate)([tF({type:i.Sequence,itemType:t9})],rn);let ro=c=class extends rn{constructor(e){super(e),Object.setPrototypeOf(this,c.prototype)}};ro=c=(0,tY.__decorate)([tF({type:i.Sequence})],ro);let rs=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};(0,tY.__decorate)([tz({type:n.IA5String})],rs.prototype,"ia5String",void 0),(0,tY.__decorate)([tz({type:n.VisibleString})],rs.prototype,"visibleString",void 0),(0,tY.__decorate)([tz({type:n.BmpString})],rs.prototype,"bmpString",void 0),(0,tY.__decorate)([tz({type:n.Utf8String})],rs.prototype,"utf8String",void 0),rs=(0,tY.__decorate)([tF({type:i.Choice})],rs);class ra{constructor(e={}){this.organization=new rs,this.noticeNumbers=[],Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rs})],ra.prototype,"organization",void 0),(0,tY.__decorate)([tz({type:n.Integer,repeated:"sequence"})],ra.prototype,"noticeNumbers",void 0);class rl{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:ra,optional:!0})],rl.prototype,"noticeRef",void 0),(0,tY.__decorate)([tz({type:rs,optional:!0})],rl.prototype,"explicitText",void 0);let ru=class{constructor(e={}){Object.assign(this,e)}};(0,tY.__decorate)([tz({type:n.IA5String})],ru.prototype,"cPSuri",void 0),(0,tY.__decorate)([tz({type:rl})],ru.prototype,"userNotice",void 0),ru=(0,tY.__decorate)([tF({type:i.Choice})],ru);class rc{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rc.prototype,"policyQualifierId",void 0),(0,tY.__decorate)([tz({type:n.Any})],rc.prototype,"qualifier",void 0);class rd{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rd.prototype,"policyIdentifier",void 0),(0,tY.__decorate)([tz({type:rc,repeated:"sequence",optional:!0})],rd.prototype,"policyQualifiers",void 0);let rh=d=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,d.prototype)}};rh=d=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rd})],rh);let rp=class{constructor(e=0){this.value=e}};(0,tY.__decorate)([tz({type:n.Integer})],rp.prototype,"value",void 0),rp=(0,tY.__decorate)([tF({type:i.Choice})],rp);let rf=class extends rp{};rf=(0,tY.__decorate)([tF({type:i.Choice})],rf),function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"}(p||(p={}));class ry extends tf{toJSON(){let e=[],t=this.toNumber();return t&p.aACompromise&&e.push("aACompromise"),t&p.affiliationChanged&&e.push("affiliationChanged"),t&p.cACompromise&&e.push("cACompromise"),t&p.certificateHold&&e.push("certificateHold"),t&p.cessationOfOperation&&e.push("cessationOfOperation"),t&p.keyCompromise&&e.push("keyCompromise"),t&p.privilegeWithdrawn&&e.push("privilegeWithdrawn"),t&p.superseded&&e.push("superseded"),t&p.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let rg=class{constructor(e={}){Object.assign(this,e)}};(0,tY.__decorate)([tz({type:t9,context:0,repeated:"sequence",implicit:!0})],rg.prototype,"fullName",void 0),(0,tY.__decorate)([tz({type:t6,context:1,implicit:!0})],rg.prototype,"nameRelativeToCRLIssuer",void 0),rg=(0,tY.__decorate)([tF({type:i.Choice})],rg);class rm{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rg,context:0,optional:!0})],rm.prototype,"distributionPoint",void 0),(0,tY.__decorate)([tz({type:ry,context:1,optional:!0,implicit:!0})],rm.prototype,"reasons",void 0),(0,tY.__decorate)([tz({type:t9,context:2,optional:!0,repeated:"sequence",implicit:!0})],rm.prototype,"cRLIssuer",void 0);let rv=h=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,h.prototype)}};rv=h=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rm})],rv);let rb=f=class extends rv{constructor(e){super(e),Object.setPrototypeOf(this,f.prototype)}};rb=f=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rm})],rb);class r_{constructor(e={}){this.onlyContainsUserCerts=r_.ONLY,this.onlyContainsCACerts=r_.ONLY,this.indirectCRL=r_.ONLY,this.onlyContainsAttributeCerts=r_.ONLY,Object.assign(this,e)}}r_.ONLY=!1,(0,tY.__decorate)([tz({type:rg,context:0,optional:!0})],r_.prototype,"distributionPoint",void 0),(0,tY.__decorate)([tz({type:n.Boolean,context:1,defaultValue:r_.ONLY,implicit:!0})],r_.prototype,"onlyContainsUserCerts",void 0),(0,tY.__decorate)([tz({type:n.Boolean,context:2,defaultValue:r_.ONLY,implicit:!0})],r_.prototype,"onlyContainsCACerts",void 0),(0,tY.__decorate)([tz({type:ry,context:3,optional:!0,implicit:!0})],r_.prototype,"onlySomeReasons",void 0),(0,tY.__decorate)([tz({type:n.Boolean,context:4,defaultValue:r_.ONLY,implicit:!0})],r_.prototype,"indirectCRL",void 0),(0,tY.__decorate)([tz({type:n.Boolean,context:5,defaultValue:r_.ONLY,implicit:!0})],r_.prototype,"onlyContainsAttributeCerts",void 0),function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(y||(y={}));let rw=class{constructor(e=y.unspecified){this.reason=y.unspecified,this.reason=e}toJSON(){return y[this.reason]}toString(){return this.toJSON()}};(0,tY.__decorate)([tz({type:n.Enumerated})],rw.prototype,"reason",void 0),rw=(0,tY.__decorate)([tF({type:i.Choice})],rw);let rx=g=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,g.prototype)}};rx=g=(0,tY.__decorate)([tF({type:i.Sequence,itemType:n.ObjectIdentifier})],rx);let rk=class{constructor(e=new ArrayBuffer(0)){this.value=e}};(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],rk.prototype,"value",void 0),rk=(0,tY.__decorate)([tF({type:i.Choice})],rk);let rA=class{constructor(e){this.value=new Date,e&&(this.value=e)}};(0,tY.__decorate)([tz({type:n.GeneralizedTime})],rA.prototype,"value",void 0),rA=(0,tY.__decorate)([tF({type:i.Choice})],rA);let rB=m=class extends rn{constructor(e){super(e),Object.setPrototypeOf(this,m.prototype)}};rB=m=(0,tY.__decorate)([tF({type:i.Sequence})],rB),function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(v||(v={}));class rI{constructor(e={}){this.base=new t9,this.minimum=0,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:t9})],rI.prototype,"base",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:0,defaultValue:0,implicit:!0})],rI.prototype,"minimum",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:1,optional:!0,implicit:!0})],rI.prototype,"maximum",void 0);let rS=b=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,b.prototype)}};rS=b=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rI})],rS);class rE{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rS,context:0,optional:!0,implicit:!0})],rE.prototype,"permittedSubtrees",void 0),(0,tY.__decorate)([tz({type:rS,context:1,optional:!0,implicit:!0})],rE.prototype,"excludedSubtrees",void 0);class rC{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,context:0,implicit:!0,optional:!0,converter:tb})],rC.prototype,"requireExplicitPolicy",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:1,implicit:!0,optional:!0,converter:tb})],rC.prototype,"inhibitPolicyMapping",void 0);class rT{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rT.prototype,"issuerDomainPolicy",void 0),(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rT.prototype,"subjectDomainPolicy",void 0);let rO=_=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,_.prototype)}};rO=_=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rT})],rO);let rN=w=class extends rn{constructor(e){super(e),Object.setPrototypeOf(this,w.prototype)}};rN=w=(0,tY.__decorate)([tF({type:i.Sequence})],rN);class rP{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rP.prototype,"type",void 0),(0,tY.__decorate)([tz({type:n.Any,repeated:"set"})],rP.prototype,"values",void 0);let rU=x=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,x.prototype)}};rU=x=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rP})],rU);class rZ{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.GeneralizedTime,context:0,implicit:!0,optional:!0})],rZ.prototype,"notBefore",void 0),(0,tY.__decorate)([tz({type:n.GeneralizedTime,context:1,implicit:!0,optional:!0})],rZ.prototype,"notAfter",void 0),function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"}(k||(k={}));class rR extends tf{toJSON(){let e=[],t=this.toNumber();return t&k.pKIXCertificate&&e.push("pKIXCertificate"),t&k.newExtensions&&e.push("newExtensions"),t&k.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class rj{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new rR,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.GeneralString})],rj.prototype,"entrustVers",void 0),(0,tY.__decorate)([tz({type:rR})],rj.prototype,"entrustInfoFlags",void 0);let rL=A=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,A.prototype)}};rL=A=(0,tY.__decorate)([tF({type:i.Sequence,itemType:t7})],rL);class rV{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof rV&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&K.n4(e.parameters,this.parameters)||e.parameters===this.parameters)}}(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rV.prototype,"algorithm",void 0),(0,tY.__decorate)([tz({type:n.Any,optional:!0})],rV.prototype,"parameters",void 0);class rD{constructor(e={}){this.algorithm=new rV,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rV})],rD.prototype,"algorithm",void 0),(0,tY.__decorate)([tz({type:n.BitString})],rD.prototype,"subjectPublicKey",void 0);let rH=class{constructor(e){if(e){if("string"==typeof e||"number"==typeof e||e instanceof Date){let t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw Error("Cannot get time from CHOICE object");return e}};(0,tY.__decorate)([tz({type:n.UTCTime})],rH.prototype,"utcTime",void 0),(0,tY.__decorate)([tz({type:n.GeneralizedTime})],rH.prototype,"generalTime",void 0),rH=(0,tY.__decorate)([tF({type:i.Choice})],rH);class r${constructor(e){this.notBefore=new rH(new Date),this.notAfter=new rH(new Date),e&&(this.notBefore=new rH(e.notBefore),this.notAfter=new rH(e.notAfter))}}(0,tY.__decorate)([tz({type:rH})],r$.prototype,"notBefore",void 0),(0,tY.__decorate)([tz({type:rH})],r$.prototype,"notAfter",void 0);class rM{constructor(e={}){this.extnID="",this.critical=rM.CRITICAL,this.extnValue=new ty,Object.assign(this,e)}}rM.CRITICAL=!1,(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rM.prototype,"extnID",void 0),(0,tY.__decorate)([tz({type:n.Boolean,defaultValue:rM.CRITICAL})],rM.prototype,"critical",void 0),(0,tY.__decorate)([tz({type:ty})],rM.prototype,"extnValue",void 0);let rF=B=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,B.prototype)}};rF=B=(0,tY.__decorate)([tF({type:i.Sequence,itemType:rM})],rF),function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"}(I||(I={}));class rz{constructor(e={}){this.version=I.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new rV,this.issuer=new t4,this.validity=new r$,this.subject=new t4,this.subjectPublicKeyInfo=new rD,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,context:0,defaultValue:I.v1})],rz.prototype,"version",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],rz.prototype,"serialNumber",void 0),(0,tY.__decorate)([tz({type:rV})],rz.prototype,"signature",void 0),(0,tY.__decorate)([tz({type:t4})],rz.prototype,"issuer",void 0),(0,tY.__decorate)([tz({type:r$})],rz.prototype,"validity",void 0),(0,tY.__decorate)([tz({type:t4})],rz.prototype,"subject",void 0),(0,tY.__decorate)([tz({type:rD})],rz.prototype,"subjectPublicKeyInfo",void 0),(0,tY.__decorate)([tz({type:n.BitString,context:1,implicit:!0,optional:!0})],rz.prototype,"issuerUniqueID",void 0),(0,tY.__decorate)([tz({type:n.BitString,context:2,implicit:!0,optional:!0})],rz.prototype,"subjectUniqueID",void 0),(0,tY.__decorate)([tz({type:rF,context:3,optional:!0})],rz.prototype,"extensions",void 0);class rq{constructor(e={}){this.tbsCertificate=new rz,this.signatureAlgorithm=new rV,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rz})],rq.prototype,"tbsCertificate",void 0),(0,tY.__decorate)([tz({type:rV})],rq.prototype,"signatureAlgorithm",void 0),(0,tY.__decorate)([tz({type:n.BitString})],rq.prototype,"signatureValue",void 0);class rK{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new rH,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],rK.prototype,"userCertificate",void 0),(0,tY.__decorate)([tz({type:rH})],rK.prototype,"revocationDate",void 0),(0,tY.__decorate)([tz({type:rM,optional:!0,repeated:"sequence"})],rK.prototype,"crlEntryExtensions",void 0);class rG{constructor(e={}){this.signature=new rV,this.issuer=new t4,this.thisUpdate=new rH,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,optional:!0})],rG.prototype,"version",void 0),(0,tY.__decorate)([tz({type:rV})],rG.prototype,"signature",void 0),(0,tY.__decorate)([tz({type:t4})],rG.prototype,"issuer",void 0),(0,tY.__decorate)([tz({type:rH})],rG.prototype,"thisUpdate",void 0),(0,tY.__decorate)([tz({type:rH,optional:!0})],rG.prototype,"nextUpdate",void 0),(0,tY.__decorate)([tz({type:rK,repeated:"sequence",optional:!0})],rG.prototype,"revokedCertificates",void 0),(0,tY.__decorate)([tz({type:rM,optional:!0,context:0,repeated:"sequence"})],rG.prototype,"crlExtensions",void 0);class rW{constructor(e={}){this.tbsCertList=new rG,this.signatureAlgorithm=new rV,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}function rJ(e){return new rV({algorithm:e})}(0,tY.__decorate)([tz({type:rG})],rW.prototype,"tbsCertList",void 0),(0,tY.__decorate)([tz({type:rV})],rW.prototype,"signatureAlgorithm",void 0),(0,tY.__decorate)([tz({type:n.BitString})],rW.prototype,"signature",void 0),rJ("1.2.840.10045.4.1"),rJ("1.2.840.10045.4.3.1"),rJ("1.2.840.10045.4.3.2"),rJ("1.2.840.10045.4.3.3"),rJ("1.2.840.10045.4.3.4");let rY=class{constructor(e={}){Object.assign(this,e)}};(0,tY.__decorate)([tz({type:n.ObjectIdentifier})],rY.prototype,"namedCurve",void 0),rY=(0,tY.__decorate)([tF({type:i.Choice})],rY);class rX{constructor(e={}){this.version=1,this.privateKey=new ty,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer})],rX.prototype,"version",void 0),(0,tY.__decorate)([tz({type:ty})],rX.prototype,"privateKey",void 0),(0,tY.__decorate)([tz({type:rY,context:0,optional:!0})],rX.prototype,"parameters",void 0),(0,tY.__decorate)([tz({type:n.BitString,context:1,optional:!0})],rX.prototype,"publicKey",void 0);class rQ{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],rQ.prototype,"r",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],rQ.prototype,"s",void 0);let r0="1.2.840.113549.1.1",r1=`${r0}.1`,r2=`${r0}.7`,r6=`${r0}.9`,r8=`${r0}.10`,r4=`${r0}.2`,r5=`${r0}.4`,r3=`${r0}.5`,r9=`${r0}.12`,r7=`${r0}.13`,ie=`${r0}.15`,it=`${r0}.16`,ir=`${r0}.8`;function ii(e){return new rV({algorithm:e,parameters:null})}ii("1.2.840.113549.2.2"),ii("1.2.840.113549.2.5");let io=ii("1.3.14.3.2.26");ii("2.16.840.1.101.3.4.2.4"),ii("2.16.840.1.101.3.4.2.1"),ii("2.16.840.1.101.3.4.2.2"),ii("2.16.840.1.101.3.4.2.3"),ii("2.16.840.1.101.3.4.2.5"),ii("2.16.840.1.101.3.4.2.6");let is=new rV({algorithm:ir,parameters:tJ.serialize(io)}),ia=new rV({algorithm:r6,parameters:tJ.serialize(tk.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});ii(r1),ii(r4),ii(r5),ii(r3),ii(ie),ii(it),ii(r9),ii(r7),ii(ie),ii(it);class il{constructor(e={}){this.hashAlgorithm=new rV(io),this.maskGenAlgorithm=new rV({algorithm:ir,parameters:tJ.serialize(io)}),this.pSourceAlgorithm=new rV(ia),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rV,context:0,defaultValue:io})],il.prototype,"hashAlgorithm",void 0),(0,tY.__decorate)([tz({type:rV,context:1,defaultValue:is})],il.prototype,"maskGenAlgorithm",void 0),(0,tY.__decorate)([tz({type:rV,context:2,defaultValue:ia})],il.prototype,"pSourceAlgorithm",void 0),new rV({algorithm:r2,parameters:tJ.serialize(new il)});class iu{constructor(e={}){this.hashAlgorithm=new rV(io),this.maskGenAlgorithm=new rV({algorithm:ir,parameters:tJ.serialize(io)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rV,context:0,defaultValue:io})],iu.prototype,"hashAlgorithm",void 0),(0,tY.__decorate)([tz({type:rV,context:1,defaultValue:is})],iu.prototype,"maskGenAlgorithm",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:2,defaultValue:20})],iu.prototype,"saltLength",void 0),(0,tY.__decorate)([tz({type:n.Integer,context:3,defaultValue:1})],iu.prototype,"trailerField",void 0),new rV({algorithm:r8,parameters:tJ.serialize(new iu)});class ic{constructor(e={}){this.digestAlgorithm=new rV,this.digest=new ty,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:rV})],ic.prototype,"digestAlgorithm",void 0),(0,tY.__decorate)([tz({type:ty})],ic.prototype,"digest",void 0);class id{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],id.prototype,"prime",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],id.prototype,"exponent",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],id.prototype,"coefficient",void 0);let ih=S=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,S.prototype)}};ih=S=(0,tY.__decorate)([tF({type:i.Sequence,itemType:id})],ih);class ip{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer})],ip.prototype,"version",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"modulus",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"publicExponent",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"privateExponent",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"prime1",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"prime2",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"exponent1",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"exponent2",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],ip.prototype,"coefficient",void 0),(0,tY.__decorate)([tz({type:ih,optional:!0})],ip.prototype,"otherPrimeInfos",void 0);class iy{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],iy.prototype,"modulus",void 0),(0,tY.__decorate)([tz({type:n.Integer,converter:tb})],iy.prototype,"publicExponent",void 0),function(e){e[e.verified=0]="verified",e[e.selfSigned=1]="selfSigned",e[e.unverified=2]="unverified",e[e.failed=3]="failed"}(C||(C={}));class ig{constructor(e={}){this.verifiedBootKey=new ty,this.deviceLocked=!1,this.verifiedBootState=C.verified,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:ty})],ig.prototype,"verifiedBootKey",void 0),(0,tY.__decorate)([tz({type:n.Boolean})],ig.prototype,"deviceLocked",void 0),(0,tY.__decorate)([tz({type:n.Enumerated})],ig.prototype,"verifiedBootState",void 0),(0,tY.__decorate)([tz({type:ty,optional:!0})],ig.prototype,"verifiedBootHash",void 0);let im=E=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,E.prototype)}};im=E=(0,tY.__decorate)([tF({type:i.Set,itemType:n.Integer})],im);class iv{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({context:1,type:im,optional:!0})],iv.prototype,"purpose",void 0),(0,tY.__decorate)([tz({context:2,type:n.Integer,optional:!0})],iv.prototype,"algorithm",void 0),(0,tY.__decorate)([tz({context:3,type:n.Integer,optional:!0})],iv.prototype,"keySize",void 0),(0,tY.__decorate)([tz({context:5,type:im,optional:!0})],iv.prototype,"digest",void 0),(0,tY.__decorate)([tz({context:6,type:im,optional:!0})],iv.prototype,"padding",void 0),(0,tY.__decorate)([tz({context:10,type:n.Integer,optional:!0})],iv.prototype,"ecCurve",void 0),(0,tY.__decorate)([tz({context:200,type:n.Integer,optional:!0})],iv.prototype,"rsaPublicExponent",void 0),(0,tY.__decorate)([tz({context:203,type:im,optional:!0})],iv.prototype,"mgfDigest",void 0),(0,tY.__decorate)([tz({context:303,type:n.Null,optional:!0})],iv.prototype,"rollbackResistance",void 0),(0,tY.__decorate)([tz({context:305,type:n.Null,optional:!0})],iv.prototype,"earlyBootOnly",void 0),(0,tY.__decorate)([tz({context:400,type:n.Integer,optional:!0})],iv.prototype,"activeDateTime",void 0),(0,tY.__decorate)([tz({context:401,type:n.Integer,optional:!0})],iv.prototype,"originationExpireDateTime",void 0),(0,tY.__decorate)([tz({context:402,type:n.Integer,optional:!0})],iv.prototype,"usageExpireDateTime",void 0),(0,tY.__decorate)([tz({context:405,type:n.Integer,optional:!0})],iv.prototype,"usageCountLimit",void 0),(0,tY.__decorate)([tz({context:503,type:n.Null,optional:!0})],iv.prototype,"noAuthRequired",void 0),(0,tY.__decorate)([tz({context:504,type:n.Integer,optional:!0})],iv.prototype,"userAuthType",void 0),(0,tY.__decorate)([tz({context:505,type:n.Integer,optional:!0})],iv.prototype,"authTimeout",void 0),(0,tY.__decorate)([tz({context:506,type:n.Null,optional:!0})],iv.prototype,"allowWhileOnBody",void 0),(0,tY.__decorate)([tz({context:507,type:n.Null,optional:!0})],iv.prototype,"trustedUserPresenceRequired",void 0),(0,tY.__decorate)([tz({context:508,type:n.Null,optional:!0})],iv.prototype,"trustedConfirmationRequired",void 0),(0,tY.__decorate)([tz({context:509,type:n.Null,optional:!0})],iv.prototype,"unlockedDeviceRequired",void 0),(0,tY.__decorate)([tz({context:600,type:n.Null,optional:!0})],iv.prototype,"allApplications",void 0),(0,tY.__decorate)([tz({context:601,type:ty,optional:!0})],iv.prototype,"applicationId",void 0),(0,tY.__decorate)([tz({context:701,type:n.Integer,optional:!0})],iv.prototype,"creationDateTime",void 0),(0,tY.__decorate)([tz({context:702,type:n.Integer,optional:!0})],iv.prototype,"origin",void 0),(0,tY.__decorate)([tz({context:703,type:n.Null,optional:!0})],iv.prototype,"rollbackResistant",void 0),(0,tY.__decorate)([tz({context:704,type:ig,optional:!0})],iv.prototype,"rootOfTrust",void 0),(0,tY.__decorate)([tz({context:705,type:n.Integer,optional:!0})],iv.prototype,"osVersion",void 0),(0,tY.__decorate)([tz({context:706,type:n.Integer,optional:!0})],iv.prototype,"osPatchLevel",void 0),(0,tY.__decorate)([tz({context:709,type:ty,optional:!0})],iv.prototype,"attestationApplicationId",void 0),(0,tY.__decorate)([tz({context:710,type:ty,optional:!0})],iv.prototype,"attestationIdBrand",void 0),(0,tY.__decorate)([tz({context:711,type:ty,optional:!0})],iv.prototype,"attestationIdDevice",void 0),(0,tY.__decorate)([tz({context:712,type:ty,optional:!0})],iv.prototype,"attestationIdProduct",void 0),(0,tY.__decorate)([tz({context:713,type:ty,optional:!0})],iv.prototype,"attestationIdSerial",void 0),(0,tY.__decorate)([tz({context:714,type:ty,optional:!0})],iv.prototype,"attestationIdImei",void 0),(0,tY.__decorate)([tz({context:715,type:ty,optional:!0})],iv.prototype,"attestationIdMeid",void 0),(0,tY.__decorate)([tz({context:716,type:ty,optional:!0})],iv.prototype,"attestationIdManufacturer",void 0),(0,tY.__decorate)([tz({context:717,type:ty,optional:!0})],iv.prototype,"attestationIdModel",void 0),(0,tY.__decorate)([tz({context:718,type:n.Integer,optional:!0})],iv.prototype,"vendorPatchLevel",void 0),(0,tY.__decorate)([tz({context:719,type:n.Integer,optional:!0})],iv.prototype,"bootPatchLevel",void 0),(0,tY.__decorate)([tz({context:720,type:n.Null,optional:!0})],iv.prototype,"deviceUniqueAttestation",void 0),function(e){e[e.software=0]="software",e[e.trustedEnvironment=1]="trustedEnvironment",e[e.strongBox=2]="strongBox"}(T||(T={})),function(e){e[e.KM2=1]="KM2",e[e.KM3=2]="KM3",e[e.KM4=3]="KM4",e[e.KM4_1=4]="KM4_1",e[e.keyMint1=100]="keyMint1",e[e.keyMint2=200]="keyMint2"}(O||(O={}));class ib{constructor(e={}){this.attestationVersion=O.KM4,this.attestationSecurityLevel=T.software,this.keymasterVersion=0,this.keymasterSecurityLevel=T.software,this.attestationChallenge=new ty,this.uniqueId=new ty,this.softwareEnforced=new iv,this.teeEnforced=new iv,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer})],ib.prototype,"attestationVersion",void 0),(0,tY.__decorate)([tz({type:n.Enumerated})],ib.prototype,"attestationSecurityLevel",void 0),(0,tY.__decorate)([tz({type:n.Integer})],ib.prototype,"keymasterVersion",void 0),(0,tY.__decorate)([tz({type:n.Enumerated})],ib.prototype,"keymasterSecurityLevel",void 0),(0,tY.__decorate)([tz({type:ty})],ib.prototype,"attestationChallenge",void 0),(0,tY.__decorate)([tz({type:ty})],ib.prototype,"uniqueId",void 0),(0,tY.__decorate)([tz({type:iv})],ib.prototype,"softwareEnforced",void 0),(0,tY.__decorate)([tz({type:iv})],ib.prototype,"teeEnforced",void 0);let i_=class extends iv{};i_=(0,tY.__decorate)([tF({type:i.Choice})],i_);let iw=N=class extends tW{constructor(e){super(e),Object.setPrototypeOf(this,N.prototype)}findProperty(e){let t=this.find(t=>e in t);if(t)return t[e]}};iw=N=(0,tY.__decorate)([tF({type:i.Sequence,itemType:i_})],iw);class ix{constructor(e={}){this.attestationVersion=O.KM4,this.attestationSecurityLevel=T.software,this.keymasterVersion=0,this.keymasterSecurityLevel=T.software,this.attestationChallenge=new ty,this.uniqueId=new ty,this.softwareEnforced=new iw,this.teeEnforced=new iw,Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.Integer})],ix.prototype,"attestationVersion",void 0),(0,tY.__decorate)([tz({type:n.Enumerated})],ix.prototype,"attestationSecurityLevel",void 0),(0,tY.__decorate)([tz({type:n.Integer})],ix.prototype,"keymasterVersion",void 0),(0,tY.__decorate)([tz({type:n.Enumerated})],ix.prototype,"keymasterSecurityLevel",void 0),(0,tY.__decorate)([tz({type:ty})],ix.prototype,"attestationChallenge",void 0),(0,tY.__decorate)([tz({type:ty})],ix.prototype,"uniqueId",void 0),(0,tY.__decorate)([tz({type:iw})],ix.prototype,"softwareEnforced",void 0),(0,tY.__decorate)([tz({type:iw})],ix.prototype,"teeEnforced",void 0);class ik{constructor(e={}){Object.assign(this,e)}}(0,tY.__decorate)([tz({type:n.OctetString})],ik.prototype,"packageName",void 0),(0,tY.__decorate)([tz({type:n.Integer})],ik.prototype,"version",void 0);class iA{constructor(e={}){Object.assign(this,e)}}function iB(e,t="base64url"){return new Uint8Array(q.toArrayBuffer(e,"base64url"===t))}function iI(e,t="base64url"){return q.fromArrayBuffer(e,"base64url"===t)}function iS(e){let t=q.toArrayBuffer(e,!0);return q.fromArrayBuffer(t)}function iE(e){return q.fromString(e,!0)}function iC(e){return q.toString(e,!0)}function iT(e){return q.validate(e,!1)}function iO(e){return e=e.replace(/=/g,""),q.validate(e,!0)}(0,tY.__decorate)([tz({type:ik,repeated:"set"})],iA.prototype,"packageInfos",void 0),(0,tY.__decorate)([tz({type:n.OctetString,repeated:"set"})],iA.prototype,"signatureDigests",void 0),!function(e){e[e.kty=1]="kty",e[e.alg=3]="alg",e[e.crv=-1]="crv",e[e.x=-2]="x",e[e.y=-3]="y",e[e.n=-1]="n",e[e.e=-2]="e"}(P||(P={})),function(e){e[e.OKP=1]="OKP",e[e.EC2=2]="EC2",e[e.RSA=3]="RSA"}(U||(U={})),function(e){e[e.P256=1]="P256",e[e.P384=2]="P384",e[e.P521=3]="P521",e[e.ED25519=6]="ED25519",e[e.SECP256K1=8]="SECP256K1"}(Z||(Z={})),function(e){e[e.ES256=-7]="ES256",e[e.EdDSA=-8]="EdDSA",e[e.ES384=-35]="ES384",e[e.ES512=-36]="ES512",e[e.PS256=-37]="PS256",e[e.PS384=-38]="PS384",e[e.PS512=-39]="PS512",e[e.ES256K=-47]="ES256K",e[e.RS256=-257]="RS256",e[e.RS384=-258]="RS384",e[e.RS512=-259]="RS512",e[e.RS1=-65535]="RS1"}(R||(R={}))},85608:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>U,__assign:()=>o,__asyncDelegator:()=>B,__asyncGenerator:()=>A,__asyncValues:()=>I,__await:()=>k,__awaiter:()=>f,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>P,__classPrivateFieldSet:()=>N,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>R,__esDecorate:()=>u,__exportStar:()=>m,__extends:()=>n,__generator:()=>y,__importDefault:()=>T,__importStar:()=>C,__makeTemplateObject:()=>S,__metadata:()=>p,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>s,__runInitializers:()=>c,__setFunctionName:()=>h,__spread:()=>_,__spreadArray:()=>x,__spreadArrays:()=>w,__values:()=>v,default:()=>j});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function a(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,i){t(r,i,e)}}function u(e,t,r,i,n,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,l=i.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?i.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,i.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var y in i)f[y]="access"===y?{}:i[y];for(var y in i.access)f.access[y]=i.access[y];f.addInitializer=function(e){if(h)throw TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,r[p])("accessor"===l?{get:d.get,set:d.set}:d[u],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&n.unshift(a)}else(a=s(g))&&("field"===l?n.unshift(a):d[u]=a)}c&&Object.defineProperty(c,i.name,d),h=!0}function c(e,t,r){for(var i=arguments.length>2,n=0;n<t.length;n++)r=i?t[n].call(e,r):t[n].call(e);return i?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,i){return new(r||(r=Promise))(function(n,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})}function y(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var g=Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]};function m(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function x(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function A(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){o.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof k?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function B(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:k(e[i](t)),done:!1}:n?n(t):t}:n}}function I(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){!function(e,t,r,i){Promise.resolve(i).then(function(t){e({value:t,done:r})},t)}(i,n,(t=e[r](t)).done,t.value)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&g(t,e,r);return E(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}function N(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r}function P(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function U(e,t,r){if(null!=t){var i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if("function"!=typeof i)throw TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:r})}else r&&e.stack.push({async:!0});return t}var Z="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var i=Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function R(e){function t(t){e.error=e.hasError?new Z(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function r(){for(;e.stack.length;){var i=e.stack.pop();try{var n=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(n).then(r,function(e){return t(e),r()})}catch(e){t(e)}}if(e.hasError)throw e.error}()}let j={__extends:n,__assign:o,__rest:s,__decorate:a,__param:l,__metadata:p,__awaiter:f,__generator:y,__createBinding:g,__exportStar:m,__values:v,__read:b,__spread:_,__spreadArrays:w,__spreadArray:x,__await:k,__asyncGenerator:A,__asyncDelegator:B,__asyncValues:I,__makeTemplateObject:S,__importStar:C,__importDefault:T,__classPrivateFieldGet:O,__classPrivateFieldSet:N,__classPrivateFieldIn:P,__addDisposableResource:U,__disposeResources:R}}}]);